<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Present Perfect Continuous - Complete Guide & Practice | ESOL Teacher Resources</title>
  <meta name="description" content="Complete step-by-step guide to Present Perfect Continuous tense emphasizing duration and ongoing actions with For/Since and comparison with Present Perfect Simple for intermediate learners.">
  <meta name="activity-type" content="guide">
  <meta name="activity-level" content="intermediate">
  <meta name="activity-category" content="grammar">
  <link rel="stylesheet" href="../../../assets/css/main.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .grammar-guide {
      max-width: 900px;
      margin: 0 auto;
    }
    
    .step-section {
      background: white;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--spacing-xl);
      margin: var(--spacing-2xl) 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }
    
    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      color: white;
      border-radius: 50%;
      font-weight: 700;
      font-size: var(--font-size-lg);
      margin-right: var(--spacing-md);
    }
    
    .step-header {
      display: flex;
      align-items: center;
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-md);
      border-bottom: 2px solid #6366f1;
    }
    
    .step-title {
      color: #6366f1;
      font-size: var(--font-size-xl);
      margin: 0;
    }
    
    .explanation-box {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
      border: 1px solid rgba(99, 102, 241, 0.2);
      padding: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
      border-radius: var(--radius-md);
    }
    
    .formula-box {
      background: white;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
      text-align: center;
    }
    
    .formula-part {
      display: inline-block;
      padding: var(--spacing-xs) var(--spacing-sm);
      margin: 2px;
      border-radius: var(--radius-sm);
      font-weight: 600;
      border: 1px solid var(--color-border);
    }
    
    .subject-part {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(99, 102, 241, 0.05) 100%);
      color: #6366f1;
    }
    
    .verb-part {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.1) 0%, rgba(236, 72, 153, 0.05) 100%);
      color: #ec4899;
    }
    
    .object-part {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
      color: #10b981;
    }
    
    .example-box {
      background: var(--color-bg-light);
      padding: var(--spacing-md);
      margin: var(--spacing-md) 0;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(99, 102, 241, 0.2);
    }
    
    .example-box .example {
      margin: var(--spacing-xs) 0;
      padding: var(--spacing-xs);
    }
    
    .exercise-section {
      background: var(--color-bg-light);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
    }
    
    .exercise-title {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      color: #6366f1;
      margin-bottom: var(--spacing-md);
      font-size: var(--font-size-lg);
    }
    
    .exercise-instructions {
      color: var(--color-text-muted);
      margin-bottom: var(--spacing-md);
      font-style: italic;
    }
    
    .exercise-item {
      margin: var(--spacing-md) 0;
      padding: var(--spacing-md);
      background: white;
      border-radius: var(--radius-sm);
      border: 1px solid var(--color-border);
    }
    
    .exercise-item label {
      display: block;
      margin-bottom: var(--spacing-xs);
      font-weight: 500;
    }
    
    .exercise-item input[type="text"],
    .exercise-item select {
      width: 100%;
      padding: var(--spacing-sm);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-family: inherit;
    }
    
    .exercise-item input[type="text"]:focus,
    .exercise-item select:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
    
    .exercise-item input[type="text"].question-input {
      width: auto;
      min-width: 80px;
      max-width: 150px;
      display: inline-block;
    }
    
    .exercise-item input[type="radio"] {
      margin-right: var(--spacing-sm);
      cursor: pointer;
      width: 18px;
      height: 18px;
      accent-color: #6366f1;
    }
    
    .exercise-item label {
      cursor: pointer;
      display: flex;
      align-items: center;
      padding: var(--spacing-xs);
      border-radius: var(--radius-sm);
      transition: background-color 0.2s;
    }
    
    .exercise-item label:hover {
      background-color: rgba(99, 102, 241, 0.05);
    }
    
    .exercise-item label:has(input[type="radio"]:checked) {
      background-color: rgba(99, 102, 241, 0.1);
    }
    
    @supports not selector(:has(*)) {
      .exercise-item input[type="radio"]:checked + span {
        background-color: rgba(99, 102, 241, 0.1);
      }
    }
    
    .check-button {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      color: white;
      border: none;
      padding: var(--spacing-sm) var(--spacing-lg);
      border-radius: var(--radius-md);
      font-weight: 600;
      cursor: pointer;
      margin-top: var(--spacing-md);
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }
    
    .check-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
    }
    
    .feedback {
      margin-top: var(--spacing-md);
      padding: var(--spacing-md);
      border-radius: var(--radius-sm);
      display: none;
    }
    
    .feedback.correct {
      background: rgba(16, 185, 129, 0.1);
      border-left: 3px solid #10b981;
      color: #10b981;
    }
    
    .feedback.incorrect {
      background: rgba(239, 68, 68, 0.1);
      border-left: 3px solid #ef4444;
      color: #ef4444;
    }
    
    .usage-list {
      list-style: none;
      padding: 0;
    }
    
    .usage-list li {
      padding: var(--spacing-sm);
      margin: var(--spacing-xs) 0;
      background: var(--color-bg-light);
      border-radius: var(--radius-sm);
      border: 1px solid rgba(99, 102, 241, 0.2);
    }
    
    .usage-list li strong {
      color: #6366f1;
    }
    
    .highlight {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 600;
    }
    
    .tip-box {
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
      padding: var(--spacing-md);
      margin: var(--spacing-md) 0;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(245, 158, 11, 0.3);
    }
    
    .tip-box strong {
      color: #f59e0b;
    }
    
    .word-scramble-section {
      background: var(--color-bg-light);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
    }
    
    .word-cards {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
      margin: var(--spacing-md) 0;
      padding: var(--spacing-md);
      background: white;
      border-radius: var(--radius-sm);
      border: 1px dashed var(--color-border);
    }
    
    .word-card {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
      border: 2px solid #6366f1;
      border-radius: var(--radius-sm);
      padding: var(--spacing-xs) var(--spacing-sm);
      font-size: var(--font-size-base);
      font-weight: 600;
      color: #6366f1;
      display: inline-block;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .word-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
    }
    
    .word-card.selected {
      background: #6366f1;
      color: white;
      border-color: #4f46e5;
    }
    
    .scramble-input {
      width: 100%;
      padding: var(--spacing-md);
      border: 2px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-family: inherit;
      margin-top: var(--spacing-sm);
      min-height: 50px;
    }
    
    .scramble-input:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
    
    .scramble-hint {
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      font-style: italic;
      margin-top: var(--spacing-xs);
    }
    
    .progress-indicator {
      background: var(--color-bg-light);
      padding: var(--spacing-md);
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-xl);
      text-align: center;
    }
    
    .progress-bar {
      display: flex;
      gap: var(--spacing-xs);
      justify-content: center;
      margin-top: var(--spacing-sm);
    }
    
    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--color-border);
      transition: all 0.3s;
    }
    
    .progress-dot.active {
      background: #6366f1;
      transform: scale(1.2);
    }
    
    .progress-dot.completed {
      background: #10b981;
    }
    
    /* Dark Mode Styles */
    [data-theme="dark"] .step-section {
      background: var(--color-bg-light);
      border-color: var(--color-border);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    [data-theme="dark"] .formula-box {
      background: var(--color-bg-light);
      border-color: var(--color-border);
    }
    
    [data-theme="dark"] .formula-part {
      border-color: var(--color-border);
    }
    
    [data-theme="dark"] .subject-part {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(99, 102, 241, 0.1) 100%);
      color: #818cf8;
    }
    
    [data-theme="dark"] .verb-part {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.1) 100%);
      color: #f472b6;
    }
    
    [data-theme="dark"] .object-part {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%);
      color: #34d399;
    }
    
    [data-theme="dark"] .example-box {
      background: var(--color-bg);
      border-color: rgba(129, 140, 248, 0.3);
    }
    
    [data-theme="dark"] .exercise-section {
      background: var(--color-bg-light);
      border-color: var(--color-border);
    }
    
    [data-theme="dark"] .exercise-item {
      background: var(--color-bg);
      border-color: var(--color-border);
      color: var(--color-text);
    }
    
    [data-theme="dark"] .exercise-item label {
      color: var(--color-text);
    }
    
    [data-theme="dark"] .exercise-item input[type="text"],
    [data-theme="dark"] .exercise-item select {
      background: var(--color-bg-light);
      border-color: var(--color-border);
      color: var(--color-text);
    }
    
    [data-theme="dark"] .exercise-item input[type="text"]:focus,
    [data-theme="dark"] .exercise-item select:focus {
      border-color: #818cf8;
      box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.2);
    }
    
    [data-theme="dark"] .explanation-box {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
      border-color: rgba(129, 140, 248, 0.3);
    }
    
    [data-theme="dark"] .explanation-box h3 {
      color: #818cf8;
    }
    
    [data-theme="dark"] .step-title {
      color: #818cf8;
    }
    
    [data-theme="dark"] .step-header {
      border-bottom-color: #818cf8;
    }
    
    [data-theme="dark"] .exercise-title {
      color: #818cf8;
    }
    
    [data-theme="dark"] .usage-list li {
      background: var(--color-bg);
      border-color: rgba(129, 140, 248, 0.3);
    }
    
    [data-theme="dark"] .usage-list li strong {
      color: #818cf8;
    }
    
    [data-theme="dark"] .highlight {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.25) 0%, rgba(139, 92, 246, 0.25) 100%);
      color: #c7d2fe;
    }
    
    [data-theme="dark"] .tip-box {
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);
      border-color: rgba(251, 191, 36, 0.4);
    }
    
    [data-theme="dark"] .tip-box strong {
      color: #fbbf24;
    }
    
    [data-theme="dark"] .progress-indicator {
      background: var(--color-bg-light);
    }
    
    [data-theme="dark"] .progress-dot {
      background: var(--color-border);
    }
    
    [data-theme="dark"] .progress-dot.active {
      background: #818cf8;
    }
    
    [data-theme="dark"] .progress-dot.completed {
      background: #34d399;
    }
    
    [data-theme="dark"] .word-scramble-section {
      background: var(--color-bg-light);
      border-color: var(--color-border);
    }
    
    [data-theme="dark"] .word-cards {
      background: var(--color-bg);
      border-color: var(--color-border);
    }
    
    [data-theme="dark"] .word-card {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(139, 92, 246, 0.2) 100%);
      border-color: #818cf8;
      color: #c7d2fe;
    }
    
    [data-theme="dark"] .word-card:hover {
      box-shadow: 0 2px 8px rgba(129, 140, 248, 0.4);
    }
    
    [data-theme="dark"] .word-card.selected {
      background: #818cf8;
      color: white;
      border-color: #6366f1;
    }
    
    [data-theme="dark"] .scramble-input {
      background: var(--color-bg-light);
      border-color: var(--color-border);
      color: var(--color-text);
    }
    
    [data-theme="dark"] .scramble-input:focus {
      border-color: #818cf8;
      box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.2);
    }
    
    [data-theme="dark"] .scramble-hint {
      color: var(--color-text-muted);
    }
    
    .print-button {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      color: white;
      border: none;
      padding: var(--spacing-sm) var(--spacing-lg);
      border-radius: var(--radius-md);
      font-weight: 600;
      cursor: pointer;
      margin: var(--spacing-md) 0;
      transition: transform 0.2s, box-shadow 0.2s;
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-xs);
      font-size: var(--font-size-base);
    }
    
    .print-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
    }
    
    .print-header {
      display: none;
    }
    
    @media print {
      @page {
        margin: 0.4in 0.5in;
      }
      
      * {
        box-sizing: border-box;
      }
      
      body {
        background: white;
        color: black;
        font-size: 10pt;
        line-height: 1.3;
      }
      
      .site-header,
      .breadcrumbs,
      .check-button,
      .progress-indicator,
      .theme-toggle,
      .mobile-menu-toggle,
      .nav,
      footer,
      .print-button,
      i[data-lucide] {
        display: none !important;
      }
      
      .print-header {
        display: block;
        margin-bottom: 8px;
        padding-bottom: 6px;
        border-bottom: 1px solid #000;
      }
      
      .print-header .name-line {
        font-size: 11pt;
        margin-bottom: 4px;
      }
      
      .print-header .blank-line {
        border-bottom: 1px solid #000;
        display: inline-block;
        min-width: 250px;
        margin-left: 4px;
        height: 14px;
      }
      
      .print-header .date-line {
        font-size: 10pt;
        margin-top: 4px;
      }
      
      .activity-header {
        margin-bottom: 8px;
      }
      
      .activity-title {
        font-size: 16pt;
        color: #000;
        margin-bottom: 4px;
      }
      
      .activity-meta {
        display: none;
      }
      
      .step-section {
        border: 1px solid #ccc;
        margin: 8px 0;
        padding: 8px;
        background: white;
        box-shadow: none;
        page-break-inside: auto;
      }
      
      .step-header {
        border-bottom: 1px solid #000;
        margin-bottom: 6px;
        padding-bottom: 4px;
      }
      
      .step-title {
        color: #000;
        font-size: 12pt;
        margin: 0;
      }
      
      .step-number {
        background: #000;
        color: white;
        width: 24px;
        height: 24px;
        font-size: 10pt;
        margin-right: 6px;
      }
      
      .explanation-box {
        background: #f9f9f9;
        border: 1px solid #ddd;
        padding: 6px;
        margin: 6px 0;
      }
      
      .explanation-box h3,
      .explanation-box h4 {
        font-size: 11pt;
        margin: 4px 0;
      }
      
      .explanation-box p {
        margin: 3px 0;
        font-size: 9pt;
      }
      
      .exercise-section {
        background: white;
        border: 1px solid #ddd;
        padding: 6px;
        margin: 6px 0;
        page-break-inside: auto;
      }
      
      .exercise-title {
        font-size: 10pt;
        margin-bottom: 4px;
      }
      
      .exercise-instructions {
        font-size: 8pt;
        margin-bottom: 4px;
      }
      
      .exercise-item {
        margin: 3px 0;
        padding: 2px;
        background: white;
        border: none;
        font-size: 9pt;
      }
      
      .exercise-item label {
        margin-bottom: 2px;
        font-size: 9pt;
      }
      
      .exercise-item input[type="text"],
      .exercise-item select,
      .scramble-input {
        border: none;
        border-bottom: 1px solid #000;
        background: transparent;
        padding: 2px 0;
        width: 100%;
        font-size: 9pt;
        min-height: auto;
      }
      
      .exercise-item input[type="radio"] {
        margin-right: 4px;
        width: 12px;
        height: 12px;
      }
      
      .exercise-item label {
        padding: 1px 0;
        margin: 1px 0;
        font-size: 9pt;
      }
      
      .word-scramble-section {
        margin: 6px 0;
        padding: 6px;
      }
      
      .word-cards {
        border: 1px dashed #ccc;
        padding: 4px;
        margin: 4px 0;
        background: #f9f9f9;
      }
      
      .word-card {
        background: white;
        border: 1px solid #ccc;
        padding: 2px 4px;
        margin: 1px;
        font-size: 8pt;
      }
      
      .scramble-input {
        border-bottom: 1px solid #000;
        min-height: 20px;
        margin-top: 4px;
        font-size: 9pt;
      }
      
      .scramble-hint {
        font-size: 7pt;
        margin-top: 2px;
      }
      
      .feedback {
        display: none !important;
      }
      
      .tip-box {
        background: #fff9e6;
        border: 1px solid #ddd;
        padding: 4px;
        margin: 4px 0;
        font-size: 8pt;
      }
      
      .formula-box {
        border: 1px solid #ddd;
        padding: 6px;
        margin: 6px 0;
        font-size: 9pt;
      }
      
      .formula-part {
        font-size: 9pt;
        padding: 2px 4px;
      }
      
      .example-box {
        background: #f9f9f9;
        border: 1px solid #ddd;
        padding: 4px;
        margin: 4px 0;
        font-size: 9pt;
      }
      
      .example-box .example {
        margin: 2px 0;
        padding: 1px;
        font-size: 9pt;
      }
      
      .usage-list {
        margin: 4px 0;
      }
      
      .usage-list li {
        background: #f9f9f9;
        border: 1px solid #ddd;
        padding: 4px;
        margin: 3px 0;
        font-size: 9pt;
      }
      
      .usage-list li strong {
        font-size: 9pt;
      }
      
      .highlight {
        background: #e0e0e0;
        padding: 1px 3px;
        font-size: 9pt;
      }
      
      h1, h2, h3, h4 {
        margin: 4px 0;
        page-break-after: avoid;
      }
      
      p {
        margin: 3px 0;
      }
      
      ul, ol {
        margin: 4px 0;
        padding-left: 20px;
      }
      
      li {
        margin: 2px 0;
      }
      
      a {
        color: #000;
        text-decoration: none;
      }
      
      .container {
        max-width: 100%;
        padding: 0;
      }
      
      .grammar-guide {
        max-width: 100%;
      }
      
      /* Remove unnecessary spacing */
      .section {
        padding: 0;
        margin: 0;
      }
      
      /* Compact lists in meaning section */
      .usage-list li .example-box {
        margin-left: 8px;
        margin-top: 2px;
        margin-bottom: 2px;
      }
      
      .usage-list li p {
        font-size: 8pt;
        margin: 1px 0;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <div class="header-content">
        <a href="../../../index.html" class="site-logo">ESOL Teacher Resources</a>
        <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
          <button class="theme-toggle" aria-label="Toggle dark mode" type="button">
            <i data-lucide="moon" class="icon"></i>
          </button>
          <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false" type="button">
            <i data-lucide="menu" class="icon"></i>
          </button>
        </div>
        <nav class="nav">
          <ul class="nav-list">
            <li class="nav-item">
              <a href="../index.html" class="nav-link">GRAMMAR</a>
            </li>
            <li class="nav-item">
              <a href="../../writing-reading/index.html" class="nav-link">WRITING/READING</a>
            </li>
            <li class="nav-item">
              <a href="../../speaking/index.html" class="nav-link">SPEAKING</a>
            </li>
            <li class="nav-item">
              <a href="../../vocab/index.html" class="nav-link">VOCAB</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <div class="breadcrumbs">
          <a href="../../../index.html">Home</a>
          <span class="breadcrumbs-separator">/</span>
          <a href="../index.html">Grammar</a>
          <span class="breadcrumbs-separator">/</span>
          <a href="../index.html#verb-tenses">Verb Tenses</a>
          <span class="breadcrumbs-separator">/</span>
          <span>Present Perfect Continuous</span>
        </div>

        <div class="activity-header">
          <h1 class="activity-title">Present Perfect Continuous - Complete Step-by-Step Guide</h1>
          <div class="activity-meta">
            <span class="activity-badge badge-guide">Complete Guide</span>
            <span class="activity-level">Intermediate</span>
          </div>
          <button class="print-button" onclick="window.print()">
            <i data-lucide="printer" style="width: 18px; height: 18px;"></i>
            Print Worksheet
          </button>
        </div>

        <!-- Print Header (only visible when printing) -->
        <div class="print-header">
          <div class="name-line">
            <strong>Name:</strong> <span class="blank-line"></span>
          </div>
          <div class="date-line">
            <strong>Date:</strong> <span class="blank-line"></span>
          </div>
        </div>

        <div class="grammar-guide">
          
          <!-- Introduction -->
          <div class="explanation-box">
            <h2 style="color: #1e293b; margin-top: 0;">
              <i data-lucide="book-open" style="width: 20px; height: 20px; display: inline-block; vertical-align: middle;"></i>
              Welcome! Let's Learn Present Perfect Continuous Together
            </h2>
            <p>We're going to learn Present Perfect Continuous step by step. Don't worry - we'll practice each part before moving to the next. Take your time and work through each section!</p>
            <p><strong>What is Present Perfect Continuous?</strong> It's used to talk about actions that started in the past and are still happening now, emphasizing the <strong>duration</strong> and <strong>ongoing nature</strong> of the action. The key difference from Present Perfect Simple is that we focus on the <strong>process</strong> and <strong>how long</strong> something has been happening, not just the result.</p>
          </div>

          <!-- MEANING & USAGE SECTION -->
          <div class="step-section" style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%); border-color: #6366f1;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">‚òÖ</span>
              <h2 class="step-title">When Do We Use Present Perfect Continuous? Understanding the Meaning</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #1e293b; margin-top: 0;">Why is meaning important?</h3>
              <p>Knowing the <strong>structure</strong> (how to form sentences) is important, but understanding the <strong>meaning</strong> (when and why to use Present Perfect Continuous) helps you use it correctly in real life!</p>
              
              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #1e293b; margin-bottom: var(--spacing-md);">üìå Present Perfect Continuous is used for:</h4>
                
                <div class="usage-list" style="margin-top: var(--spacing-md);">
                  <li>
                    <strong>1. Ongoing Actions with Duration</strong> - Actions that started in the past and are still happening now, emphasizing HOW LONG (with "for" or "since")
                    <div class="example-box" style="margin-top: var(--spacing-xs); margin-left: var(--spacing-md);">
                      <div class="example">I <span class="highlight">have been living</span> in Boston for 5 years. (I'm still living there now - emphasis on duration)</div>
                      <div class="example">She <span class="highlight">has been working</span> here since 2020. (She's still working here - emphasis on ongoing process)</div>
                      <div class="example">We <span class="highlight">have been studying</span> English for 2 years. (We're still studying - emphasis on how long)</div>
                      <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                        üí° These actions started in the past and are STILL HAPPENING NOW. We emphasize the duration and ongoing nature.
                      </p>
                    </div>
                  </li>
                  
                  <li style="margin-top: var(--spacing-md);">
                    <strong>2. Recent Ongoing Actions</strong> - Actions that have been happening recently and may have just stopped or are still happening
                    <div class="example-box" style="margin-top: var(--spacing-xs); margin-left: var(--spacing-md);">
                      <div class="example">I <span class="highlight">have been studying</span> all morning. (I was studying and may have just stopped or am still studying)</div>
                      <div class="example">She <span class="highlight">has been waiting</span> for you for 30 minutes. (She was waiting and is probably still waiting)</div>
                      <div class="example">They <span class="highlight">have been playing</span> soccer. (They were playing and may have just finished or are still playing)</div>
                      <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                        üí° These actions have been happening recently. The action may have just stopped or may still be happening.
                      </p>
                    </div>
                  </li>
                  
                  <li style="margin-top: var(--spacing-md);">
                    <strong>3. Temporary Situations</strong> - Actions that are temporary and ongoing
                    <div class="example-box" style="margin-top: var(--spacing-xs); margin-left: var(--spacing-md);">
                      <div class="example">I <span class="highlight">have been staying</span> with my friend this week. (temporary situation)</div>
                      <div class="example">She <span class="highlight">has been working</span> on a special project. (temporary, ongoing work)</div>
                      <div class="example">He <span class="highlight">has been taking</span> extra classes. (temporary, ongoing action)</div>
                      <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                        üí° These are temporary situations that are ongoing, not permanent states.
                      </p>
                    </div>
                  </li>
                  
                  <li style="margin-top: var(--spacing-md);">
                    <strong>4. Repeated Actions Over Time</strong> - Actions that have been repeated over a period of time
                    <div class="example-box" style="margin-top: var(--spacing-xs); margin-left: var(--spacing-md);">
                      <div class="example">I <span class="highlight">have been going</span> to the gym regularly. (repeated action over time)</div>
                      <div class="example">She <span class="highlight">has been calling</span> me every day. (repeated action)</div>
                      <div class="example">They <span class="highlight">have been meeting</span> every week. (repeated action over time)</div>
                      <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                        üí° These actions have been repeated regularly over a period of time.
                      </p>
                    </div>
                  </li>
                  
                  <li style="margin-top: var(--spacing-md);">
                    <strong>5. Actions with Visible Results</strong> - Actions that have been happening and have visible results now
                    <div class="example-box" style="margin-top: var(--spacing-xs); margin-left: var(--spacing-md);">
                      <div class="example">You look tired. <span class="highlight">Have you been working</span> all night? (visible result: you look tired)</div>
                      <div class="example">It <span class="highlight">has been raining</span>. (visible result: the ground is wet)</div>
                      <div class="example">She <span class="highlight">has been crying</span>. (visible result: red eyes, tears)</div>
                      <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                        üí° The action has been happening and there's a visible result or effect now.
                      </p>
                    </div>
                  </li>
                </div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Key Point:</strong> 
                <p style="margin: var(--spacing-xs) 0 0 0;">Present Perfect Continuous emphasizes the <strong>duration</strong> and <strong>ongoing process</strong> of actions that started in the past and continue to now. It's used when we want to focus on <strong>how long</strong> something has been happening or the <strong>process</strong> itself, not just the result.</p>
                <p style="margin: var(--spacing-xs) 0 0 0;"><strong>Compare:</strong></p>
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>"I <strong>have been living</strong> in Boston for 5 years" (Present Perfect Continuous - emphasizes duration and ongoing process)</li>
                  <li>"I <strong>have lived</strong> in Boston for 5 years" (Present Perfect Simple - emphasizes the result/fact)</li>
                  <li>"I <strong>lived</strong> in Boston in 2019" (Past Simple - specific time in the past, finished action)</li>
                </ul>
              </div>
            </div>

            <!-- Practice: Understanding Meaning -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="lightbulb" style="width: 24px; height: 24px;"></i>
                Practice: Why Do We Use Present Perfect Continuous Here?
              </div>
              <p class="exercise-instructions">Read each sentence and choose why we use Present Perfect Continuous. Think about the meaning!</p>
              
              <div class="exercise-item">
                <label>1. "I have been living in Boston for 5 years."</label>
                <select id="meaning-1">
                  <option value="">Choose...</option>
                  <option value="duration">Ongoing Actions with Duration</option>
                  <option value="recent">Recent Ongoing Actions</option>
                  <option value="temporary">Temporary Situations</option>
                  <option value="repeated">Repeated Actions Over Time</option>
                  <option value="visible">Actions with Visible Results</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>2. "I have been studying all morning."</label>
                <select id="meaning-2">
                  <option value="">Choose...</option>
                  <option value="duration">Ongoing Actions with Duration</option>
                  <option value="recent">Recent Ongoing Actions</option>
                  <option value="temporary">Temporary Situations</option>
                  <option value="repeated">Repeated Actions Over Time</option>
                  <option value="visible">Actions with Visible Results</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>3. "She has been staying with her friend this week."</label>
                <select id="meaning-3">
                  <option value="">Choose...</option>
                  <option value="duration">Ongoing Actions with Duration</option>
                  <option value="recent">Recent Ongoing Actions</option>
                  <option value="temporary">Temporary Situations</option>
                  <option value="repeated">Repeated Actions Over Time</option>
                  <option value="visible">Actions with Visible Results</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>4. "It has been raining." (The ground is wet)</label>
                <select id="meaning-4">
                  <option value="">Choose...</option>
                  <option value="duration">Ongoing Actions with Duration</option>
                  <option value="recent">Recent Ongoing Actions</option>
                  <option value="temporary">Temporary Situations</option>
                  <option value="repeated">Repeated Actions Over Time</option>
                  <option value="visible">Actions with Visible Results</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>5. "I have been going to the gym regularly."</label>
                <select id="meaning-5">
                  <option value="">Choose...</option>
                  <option value="duration">Ongoing Actions with Duration</option>
                  <option value="recent">Recent Ongoing Actions</option>
                  <option value="temporary">Temporary Situations</option>
                  <option value="repeated">Repeated Actions Over Time</option>
                  <option value="visible">Actions with Visible Results</option>
                </select>
              </div>
              
              <button class="check-button" onclick="checkMeaningExercise()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-meaning" class="feedback"></div>
            </div>
          </div>

          <!-- VERB + -ING FORM SECTION -->
          <div class="step-section" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%); border-color: #ec4899;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">üìö</span>
              <h2 class="step-title">Understanding Verb + -ing Form - The Key to Present Perfect Continuous!</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #ec4899; margin-top: 0;">What is the -ing form?</h3>
              <p>The <strong>verb + -ing</strong> form (also called the present participle) is essential for Present Perfect Continuous! You need <span class="highlight">have/has + been + verb + -ing</span> to make Present Perfect Continuous sentences.</p>
              
              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #ec4899; margin-bottom: var(--spacing-md);">üîë How to Form -ing</h4>
                <p>For most verbs, you just add <strong>-ing</strong> to the base form:</p>
                
                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm);">
                    <div><strong>Base Form</strong> ‚Üí <strong>Verb + -ing</strong></div>
                    <div>work ‚Üí <span class="highlight">working</span></div>
                    <div>play ‚Üí <span class="highlight">playing</span></div>
                    <div>study ‚Üí <span class="highlight">studying</span></div>
                    <div>live ‚Üí <span class="highlight">living</span></div>
                    <div>visit ‚Üí <span class="highlight">visiting</span></div>
                    <div>finish ‚Üí <span class="highlight">finishing</span></div>
                    <div>read ‚Üí <span class="highlight">reading</span></div>
                    <div>write ‚Üí <span class="highlight">writing</span></div>
                  </div>
                </div>

                <div class="tip-box" style="margin-top: var(--spacing-md);">
                  <strong>üí° Spelling Rules for -ing:</strong>
                  <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                    <li>Most verbs: add <strong>-ing</strong> (work ‚Üí working, play ‚Üí playing)</li>
                    <li>Verbs ending in -e: drop the -e and add <strong>-ing</strong> (live ‚Üí living, write ‚Üí writing)</li>
                    <li>Verbs ending in -ie: change -ie to -y and add <strong>-ing</strong> (lie ‚Üí lying, die ‚Üí dying)</li>
                    <li>One-syllable verbs ending in consonant-vowel-consonant: double the last letter and add <strong>-ing</strong> (run ‚Üí running, sit ‚Üí sitting)</li>
                    <li>Two-syllable verbs ending in consonant-vowel-consonant with stress on last syllable: double the last letter (begin ‚Üí beginning, prefer ‚Üí preferring)</li>
                  </ul>
                </div>
              </div>

              <div class="example-box" style="margin-top: var(--spacing-lg);">
                <strong style="color: #ec4899;">Examples in Present Perfect Continuous:</strong>
                <div class="example">I <span class="highlight">have been working</span> here for 5 years.</div>
                <div class="example">She <span class="highlight">has been studying</span> English.</div>
                <div class="example">They <span class="highlight">have been playing</span> soccer.</div>
                <div class="example">We <span class="highlight">have been living</span> in Boston.</div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Important:</strong> 
                <p style="margin: var(--spacing-xs) 0 0 0;">Remember: Present Perfect Continuous uses <strong>have/has + been + verb + -ing</strong>. The "been" is always there! Don't forget it!</p>
                <p style="margin: var(--spacing-xs) 0 0 0;">‚úÖ Correct: "I have been studying" | ‚ùå Wrong: "I have studying"</p>
              </div>
            </div>
          </div>

          <!-- PRESENT PERFECT SIMPLE VS CONTINUOUS SECTION -->
          <div class="step-section" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%); border-color: #1e293b;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);">‚öñÔ∏è</span>
              <h2 class="step-title">Present Perfect Simple vs Continuous - What's the Difference?</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #1e293b; margin-top: 0;">Why is this important?</h3>
              <p>Many students confuse Present Perfect Simple and Present Perfect Continuous. Understanding the difference helps you choose the correct tense! The key difference is what we <strong>emphasize</strong>.</p>
              
              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #1e293b; margin-bottom: var(--spacing-md);">üìä Key Differences</h4>
                
                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <div style="border-left: 4px solid #6366f1; padding-left: var(--spacing-md); margin-bottom: var(--spacing-lg);">
                    <h4 style="color: #1e293b; margin-top: 0;">Present Perfect Simple</h4>
                    <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                      <li>‚úÖ Emphasizes the <strong>result</strong> or <strong>completion</strong> of an action</li>
                      <li>‚úÖ Focuses on <strong>what</strong> has been done</li>
                      <li>‚úÖ Used for <strong>finished actions</strong> with present results</li>
                      <li>‚úÖ Form: <strong>Subject + have/has + past participle</strong></li>
                    </ul>
                    <div style="margin-top: var(--spacing-sm);">
                      <strong>Examples:</strong>
                      <div class="example">I <span class="highlight">have finished</span> my homework. (result: it's done)</div>
                      <div class="example">She <span class="highlight">has lived</span> here for 5 years. (fact: she lives here)</div>
                      <div class="example">They <span class="highlight">have seen</span> that movie. (result: they know the movie)</div>
                    </div>
                  </div>

                  <div style="border-left: 4px solid #ec4899; padding-left: var(--spacing-md);">
                    <h4 style="color: #ec4899; margin-top: 0;">Present Perfect Continuous</h4>
                    <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                      <li>‚úÖ Emphasizes the <strong>duration</strong> and <strong>ongoing process</strong></li>
                      <li>‚úÖ Focuses on <strong>how long</strong> something has been happening</li>
                      <li>‚úÖ Used for <strong>ongoing actions</strong> that started in the past</li>
                      <li>‚úÖ Form: <strong>Subject + have/has + been + verb + -ing</strong></li>
                    </ul>
                    <div style="margin-top: var(--spacing-sm);">
                      <strong>Examples:</strong>
                      <div class="example">I <span class="highlight">have been studying</span> all morning. (process: how long I've been studying)</div>
                      <div class="example">She <span class="highlight">has been living</span> here for 5 years. (duration: emphasis on the 5 years)</div>
                      <div class="example">They <span class="highlight">have been watching</span> TV. (ongoing: they're still watching or just stopped)</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Quick Test:</strong> 
                <p style="margin: var(--spacing-xs) 0 0 0;">Ask yourself: <strong>"What do I want to emphasize?"</strong></p>
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>Result/Completion ‚Üí <strong>Present Perfect Simple</strong> (have/has + past participle)</li>
                  <li>Duration/Ongoing Process ‚Üí <strong>Present Perfect Continuous</strong> (have/has + been + verb-ing)</li>
                </ul>
              </div>

              <div class="example-box" style="margin-top: var(--spacing-lg);">
                <strong style="color: #1e293b;">Side-by-Side Comparison:</strong>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md); margin-top: var(--spacing-sm);">
                  <div>
                    <strong>Present Perfect Simple:</strong>
                    <div class="example">I <span class="highlight">have lived</span> here for 5 years. (emphasizes the fact)</div>
                    <div class="example">She <span class="highlight">has worked</span> here since 2020. (emphasizes the result)</div>
                    <div class="example">They <span class="highlight">have finished</span> the project. (emphasizes completion)</div>
                  </div>
                  <div>
                    <strong>Present Perfect Continuous:</strong>
                    <div class="example">I <span class="highlight">have been living</span> here for 5 years. (emphasizes duration)</div>
                    <div class="example">She <span class="highlight">has been working</span> here since 2020. (emphasizes ongoing process)</div>
                    <div class="example">They <span class="highlight">have been working</span> on the project. (emphasizes the process, not finished)</div>
                  </div>
                </div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Important Notes:</strong>
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>Some verbs (like "live", "work", "study") can use BOTH forms - the meaning is similar, but the emphasis is different</li>
                  <li>State verbs (like "know", "like", "want") CANNOT use Present Perfect Continuous - only Present Perfect Simple</li>
                  <li>When asking "How long...?" we usually use Present Perfect Continuous: "How long have you been studying?"</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- TIME EXPRESSIONS: FOR/SINCE/ALREADY/YET/JUST SECTION -->
          <div class="step-section" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.05) 100%); border-color: #10b981;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">‚è∞</span>
              <h2 class="step-title">Time Expressions: For / Since</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #10b981; margin-top: 0;">Why are these words important?</h3>
              <p><strong>FOR</strong> and <strong>SINCE</strong> are <strong>very common</strong> with Present Perfect Continuous! They help show the <strong>duration</strong> of ongoing actions, which is exactly what Present Perfect Continuous emphasizes.</p>
              
              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #10b981; margin-bottom: var(--spacing-md);">üìÖ FOR vs SINCE</h4>
                <p><strong>FOR</strong> and <strong>SINCE</strong> both mean "from a time in the past until now", but they're used differently:</p>
                
                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <div style="border-left: 4px solid #10b981; padding-left: var(--spacing-md); margin-bottom: var(--spacing-md);">
                    <h4 style="color: #10b981; margin-top: 0;">FOR = a period of time</h4>
                    <p>Use <strong>FOR</strong> with a <strong>duration</strong> (how long):</p>
                    <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                      <li>for 5 years</li>
                      <li>for 2 months</li>
                      <li>for a week</li>
                      <li>for a long time</li>
                      <li>for 10 minutes</li>
                      <li>for hours</li>
                      <li>for ages</li>
                    </ul>
                    <div style="margin-top: var(--spacing-sm);">
                      <strong>Examples:</strong>
                      <div class="example">I <span class="highlight">have been living</span> here <strong>for 5 years</strong>.</div>
                      <div class="example">She <span class="highlight">has been working</span> here <strong>for 2 months</strong>.</div>
                      <div class="example">We <span class="highlight">have been studying</span> English <strong>for a long time</strong>.</div>
                      <div class="example">They <span class="highlight">have been waiting</span> <strong>for hours</strong>.</div>
                    </div>
                  </div>

                  <div style="border-left: 4px solid #059669; padding-left: var(--spacing-md);">
                    <h4 style="color: #059669; margin-top: 0;">SINCE = a starting point</h4>
                    <p>Use <strong>SINCE</strong> with a <strong>point in time</strong> (when it started):</p>
                    <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                      <li>since 2020</li>
                      <li>since January</li>
                      <li>since last week</li>
                      <li>since I was a child</li>
                      <li>since Monday</li>
                      <li>since this morning</li>
                      <li>since 9 o'clock</li>
                    </ul>
                    <div style="margin-top: var(--spacing-sm);">
                      <strong>Examples:</strong>
                      <div class="example">I <span class="highlight">have been living</span> here <strong>since 2020</strong>.</div>
                      <div class="example">She <span class="highlight">has been working</span> here <strong>since January</strong>.</div>
                      <div class="example">We <span class="highlight">have been studying</span> English <strong>since last year</strong>.</div>
                      <div class="example">He <span class="highlight">has been waiting</span> <strong>since 9 o'clock</strong>.</div>
                    </div>
                  </div>
                </div>

                <div class="tip-box" style="margin-top: var(--spacing-md);">
                  <strong>üí° Memory Trick:</strong> 
                  <p style="margin: var(--spacing-xs) 0 0 0;"><strong>FOR</strong> = "how long" (duration) | <strong>SINCE</strong> = "when it started" (point in time)</p>
                  <p style="margin: var(--spacing-xs) 0 0 0;">Both <strong>FOR</strong> and <strong>SINCE</strong> are perfect for Present Perfect Continuous because they emphasize duration!</p>
                </div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Summary:</strong>
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li><strong>FOR</strong> + period (for 5 years, for 2 months, for hours) - emphasizes duration</li>
                  <li><strong>SINCE</strong> + starting point (since 2020, since Monday, since 9 o'clock) - emphasizes when it started</li>
                  <li>Both work perfectly with Present Perfect Continuous to show ongoing actions with duration!</li>
                </ul>
              </div>
            </div>

            <!-- Practice: Time Expressions For/Since -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="clock" style="width: 24px; height: 24px;"></i>
                Practice: Identify FOR or SINCE
              </div>
              <p class="exercise-instructions">Read each sentence and identify whether "for" or "since" is used.</p>
              
              <div class="exercise-item">
                <label>1. "I have been living here for 5 years."</label>
                <input type="text" id="time-ex1" placeholder="for or since?">
                <div style="font-size: var(--font-size-sm); color: var(--color-text-muted); margin-top: var(--spacing-xs);">Hint: Is it a duration (for) or a starting point (since)?</div>
              </div>
              
              <div class="exercise-item">
                <label>2. "She has been working here since 2020."</label>
                <input type="text" id="time-ex2" placeholder="for or since?">
              </div>
              
              <div class="exercise-item">
                <label>3. "We have been studying for 2 hours."</label>
                <input type="text" id="time-ex3" placeholder="for or since?">
              </div>
              
              <button class="check-button" onclick="checkTimeExpressions()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-time" class="feedback"></div>
            </div>
          </div>

          <!-- STATE VERBS VS ACTION VERBS SECTION -->
          <div class="step-section" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%); border-color: #1e293b;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);">üîë</span>
              <h2 class="step-title">State Verbs vs Action Verbs - Why We Can't Say "I Am Liking"</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #1e293b; margin-top: 0;">What's the difference?</h3>
              <p>Some verbs describe <strong>states</strong> (how things are) and some describe <strong>actions</strong> (what we do). This is important because <strong>state verbs don't use continuous forms</strong> - only action verbs can use Present Perfect Continuous!</p>
              
              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #1e293b; margin-bottom: var(--spacing-md);">üî¥ State Verbs (No Continuous Forms)</h4>
                <p>State verbs describe <strong>states, feelings, thoughts, or senses</strong>. These verbs are NOT used in continuous forms (not "am liking", "am knowing", "am wanting").</p>
                
                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <strong style="color: #1e293b;">Common State Verbs:</strong>
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm); margin-top: var(--spacing-sm);">
                    <div><strong>Like, love, hate, prefer</strong> (feelings)</div>
                    <div><strong>Know, understand, believe</strong> (thoughts)</div>
                    <div><strong>Want, need, own</strong> (possession/desire)</div>
                    <div><strong>See, hear, smell, taste</strong> (senses)</div>
                    <div><strong>Be, seem, appear</strong> (states)</div>
                    <div><strong>Have</strong> (when meaning "own")</div>
                  </div>
                </div>

                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <strong style="color: #1e293b;">Examples (Correct):</strong>
                  <div class="example">I <span class="highlight">like</span> chocolate. ‚úÖ (NOT "I am liking")</div>
                  <div class="example">She <span class="highlight">knows</span> the answer. ‚úÖ (NOT "She is knowing")</div>
                  <div class="example">They <span class="highlight">want</span> to go. ‚úÖ (NOT "They are wanting")</div>
                  <div class="example">I <span class="highlight">understand</span> English. ‚úÖ (NOT "I am understanding")</div>
                  <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-muted); font-style: italic;">
                    üí° These verbs describe states, so we use Present Simple, not Present Perfect Continuous.
                  </p>
                </div>
              </div>

              <div style="margin: var(--spacing-lg) 0;">
                <h4 style="color: #1e293b; margin-bottom: var(--spacing-md);">üü¢ Action Verbs (Can Use Continuous Forms)</h4>
                <p>Action verbs describe <strong>actions or activities</strong>. These verbs CAN use continuous forms when the action is happening now.</p>
                
                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <strong style="color: #1e293b;">Common Action Verbs:</strong>
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm); margin-top: var(--spacing-sm);">
                    <div><strong>Run, walk, jump</strong> (movement)</div>
                    <div><strong>Eat, drink, cook</strong> (activities)</div>
                    <div><strong>Study, work, read</strong> (activities)</div>
                    <div><strong>Play, watch, listen</strong> (activities)</div>
                    <div><strong>Write, speak, talk</strong> (communication)</div>
                  </div>
                </div>

                <div class="example-box" style="margin-top: var(--spacing-md);">
                  <strong style="color: #1e293b;">Examples:</strong>
                  <div class="example">I <span class="highlight">study</span> every day. (Present Simple - habit)</div>
                  <div class="example">I <span class="highlight">have been studying</span> all morning. (Present Perfect Continuous - ongoing action) ‚úÖ</div>
                  <div class="example">She <span class="highlight">works</span> at a hospital. (Present Simple - permanent job)</div>
                  <div class="example">She <span class="highlight">has been working</span> here for 5 years. (Present Perfect Continuous - ongoing action with duration) ‚úÖ</div>
                </div>
              </div>

              <div class="tip-box" style="margin-top: var(--spacing-lg);">
                <strong>üí° Key Point:</strong> 
                <p style="margin: var(--spacing-xs) 0 0 0;">State verbs describe <strong>how things ARE</strong> (states, feelings, thoughts). Action verbs describe <strong>what we DO</strong> (activities, movements).</p>
                <p style="margin: var(--spacing-xs) 0 0 0;"><strong>Remember:</strong></p>
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>State verbs ‚Üí Use Present Simple only (I like, I know, I want) - NO continuous forms!</li>
                  <li>Action verbs ‚Üí Can use Present Simple (habits) OR Present Perfect Continuous (ongoing actions with duration)</li>
                  <li><strong>Never say:</strong> "I have been liking", "I have been knowing", "I have been wanting" ‚ùå</li>
                  <li><strong>Can say:</strong> "I have been studying", "I have been working", "I have been learning" ‚úÖ (action verbs)</li>
                </ul>
              </div>
            </div>

            <!-- Practice: State Verbs vs Action Verbs -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Practice: State Verb or Action Verb?
              </div>
              <p class="exercise-instructions">Read each sentence and decide if the verb is a state verb or action verb. Remember: state verbs don't use continuous forms!</p>
              
              <div class="exercise-item">
                <label>1. "I like pizza."</label>
                <select id="state-verb-1">
                  <option value="">Choose...</option>
                  <option value="state">State Verb (no continuous)</option>
                  <option value="action">Action Verb (can use continuous)</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>2. "She has been eating pizza."</label>
                <select id="state-verb-2">
                  <option value="">Choose...</option>
                  <option value="state">State Verb (no continuous)</option>
                  <option value="action">Action Verb (can use continuous)</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>3. "I know the answer."</label>
                <select id="state-verb-3">
                  <option value="">Choose...</option>
                  <option value="state">State Verb (no continuous)</option>
                  <option value="action">Action Verb (can use continuous)</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>4. "They have been studying English."</label>
                <select id="state-verb-4">
                  <option value="">Choose...</option>
                  <option value="state">State Verb (no continuous)</option>
                  <option value="action">Action Verb (can use continuous)</option>
                </select>
              </div>
              
              <div class="exercise-item">
                <label>5. "I want a new car."</label>
                <select id="state-verb-5">
                  <option value="">Choose...</option>
                  <option value="state">State Verb (no continuous)</option>
                  <option value="action">Action Verb (can use continuous)</option>
                </select>
              </div>
              
              <button class="check-button" onclick="checkStateVerbs()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-state-verbs" class="feedback"></div>
            </div>
          </div>

          <!-- Progress Indicator -->
          <div class="progress-indicator">
            <p style="margin: 0; color: var(--color-text-muted); font-size: var(--font-size-sm);">Your Progress</p>
            <div class="progress-bar">
              <div class="progress-dot active" id="dot1"></div>
              <div class="progress-dot" id="dot2"></div>
              <div class="progress-dot" id="dot3"></div>
              <div class="progress-dot" id="dot4"></div>
            </div>
          </div>

          <!-- STEP 1: AFFIRMATIVE -->
          <div class="step-section" id="step1">
            <div class="step-header">
              <span class="step-number">1</span>
              <h2 class="step-title">Present Perfect Continuous - Positive (Affirmative) Sentences</h2>
            </div>

            <div class="explanation-box">
              <h3 style="color: #1e293b; margin-top: 0;">What are positive sentences?</h3>
              <p>Positive sentences tell us what someone <strong>has done</strong> or <strong>has been doing</strong>. They're not negative (saying "no") and they're not questions.</p>
              
              <div class="formula-box">
                <div style="margin-bottom: var(--spacing-sm);">
                  <span class="formula-part subject-part">I/You/We/They</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">have</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                </div>
                <div style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);">
                  <span class="formula-part subject-part">He/She/It</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">has</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                </div>
                <div style="font-size: var(--font-size-sm); color: var(--color-text-muted); margin-top: var(--spacing-xs);">
                  ‚ö†Ô∏è Important: We use <span class="highlight">have</span> with I/you/we/they, and <span class="highlight">has</span> with he/she/it! Don't forget <span class="highlight">been</span>!
                </div>
              </div>

              <div class="example-box">
                <strong style="color: #1e293b;">Look at these examples:</strong>
                <div class="example">I <span class="highlight">have been studying</span> all morning. (I + have + been + studying)</div>
                <div class="example">She <span class="highlight">has been working</span> here for 5 years. (She + has + been + working)</div>
                <div class="example">They <span class="highlight">have been living</span> here for 2 months. (They + have + been + living)</div>
                <div class="example">He <span class="highlight">has been waiting</span> for 30 minutes. (He + has + been + waiting)</div>
                <div class="example">We <span class="highlight">have been learning</span> English for 2 years. (We + have + been + learning)</div>
                <div class="example">Maria <span class="highlight">has been teaching</span> here since 2020. (Maria = she, has + been + teaching)</div>
              </div>

              <div class="tip-box">
                <strong>üí° Remember:</strong> 
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>I, you, we, they ‚Üí use <strong>have + been + verb + -ing</strong></li>
                  <li>He, she, it ‚Üí use <strong>has + been + verb + -ing</strong></li>
                  <li>Remember to use the <strong>verb + -ing</strong> form (studying, working, living, etc.)</li>
                  <li>Don't forget <strong>been</strong>! It's always there in Present Perfect Continuous!</li>
                  <li>Most verbs: add <strong>-ing</strong> (work ‚Üí working, study ‚Üí studying)</li>
                </ul>
              </div>
            </div>

            <!-- Practice Exercise 1 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="edit-3" style="width: 24px; height: 24px;"></i>
                Practice: Fill in the Blank (Positive Sentences)
              </div>
              <p class="exercise-instructions">Choose the correct form: have/has + been + verb-ing. Remember: I/you/we/they ‚Üí have, he/she/it ‚Üí has! Don't forget "been"!</p>
              
              <div class="exercise-item">
                <label>1. She <input type="text" id="ex1-1" placeholder="has been working/have been working"> here for 5 years.</label>
              </div>
              <div class="exercise-item">
                <label>2. They <input type="text" id="ex1-2" placeholder="has been living/have been living"> in Boston for 2 months.</label>
              </div>
              <div class="exercise-item">
                <label>3. He <input type="text" id="ex1-3" placeholder="has been waiting/have been waiting"> for 30 minutes.</label>
              </div>
              <div class="exercise-item">
                <label>4. I <input type="text" id="ex1-4" placeholder="has been studying/have been studying"> all morning.</label>
              </div>
              <div class="exercise-item">
                <label>5. Maria <input type="text" id="ex1-5" placeholder="has been teaching/have been teaching"> here since 2020.</label>
              </div>
              
              <button class="check-button" onclick="checkExercise1()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback1" class="feedback"></div>
            </div>

            <!-- Practice Exercise 2 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="list" style="width: 24px; height: 24px;"></i>
                More Practice: Multiple Choice
              </div>
              <p class="exercise-instructions">Choose the correct answer for each sentence.</p>
              
              <div class="exercise-item">
                <label>1. She _____ here for 5 years.</label>
                <select id="ex1b-1">
                  <option value="">Choose...</option>
                  <option value="has been working">has been working</option>
                  <option value="have been working">have been working</option>
                  <option value="has worked">has worked</option>
                </select>
              </div>
              <div class="exercise-item">
                <label>2. They _____ in Boston for 2 months.</label>
                <select id="ex1b-2">
                  <option value="">Choose...</option>
                  <option value="has been living">has been living</option>
                  <option value="have been living">have been living</option>
                  <option value="have lived">have lived</option>
                </select>
              </div>
              <div class="exercise-item">
                <label>3. He _____ for 30 minutes.</label>
                <select id="ex1b-3">
                  <option value="">Choose...</option>
                  <option value="has been waiting">has been waiting</option>
                  <option value="have been waiting">have been waiting</option>
                  <option value="has waited">has waited</option>
                </select>
              </div>
              <div class="exercise-item">
                <label>4. I _____ all morning.</label>
                <select id="ex1b-4">
                  <option value="">Choose...</option>
                  <option value="has been studying">has been studying</option>
                  <option value="have been studying">have been studying</option>
                  <option value="have studied">have studied</option>
                </select>
              </div>
              
              <button class="check-button" onclick="checkExercise1b()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback1b" class="feedback"></div>
            </div>

            <!-- Scrambled Sentences Exercise -->
            <div class="word-scramble-section">
              <div class="exercise-title">
                <i data-lucide="shuffle" style="width: 24px; height: 24px;"></i>
                Scrambled Sentences: Put the Words in Order (Positive Sentences)
              </div>
              <p class="exercise-instructions">Put the words in the correct order to make positive Present Perfect Continuous sentences. Type your answer in the box below each set of words.</p>
              
              <div class="exercise-item">
                <label>1. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">working</span>
                  <span class="word-card">here</span>
                  <span class="word-card">for</span>
                  <span class="word-card">been</span>
                  <span class="word-card">has</span>
                  <span class="word-card">she</span>
                  <span class="word-card">5</span>
                  <span class="word-card">years</span>
                </div>
                <input type="text" class="scramble-input" id="scramble1-1" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "She" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>2. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">all</span>
                  <span class="word-card">morning</span>
                  <span class="word-card">studying</span>
                  <span class="word-card">been</span>
                  <span class="word-card">have</span>
                  <span class="word-card">I</span>
                </div>
                <input type="text" class="scramble-input" id="scramble1-2" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "I" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>3. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">teaching</span>
                  <span class="word-card">here</span>
                  <span class="word-card">been</span>
                  <span class="word-card">since</span>
                  <span class="word-card">has</span>
                  <span class="word-card">Maria</span>
                  <span class="word-card">2020</span>
                </div>
                <input type="text" class="scramble-input" id="scramble1-3" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Maria" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>4. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">for</span>
                  <span class="word-card">years</span>
                  <span class="word-card">English</span>
                  <span class="word-card">learning</span>
                  <span class="word-card">been</span>
                  <span class="word-card">we</span>
                  <span class="word-card">have</span>
                  <span class="word-card">2</span>
                </div>
                <input type="text" class="scramble-input" id="scramble1-4" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "We" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>5. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">for</span>
                  <span class="word-card">waiting</span>
                  <span class="word-card">been</span>
                  <span class="word-card">have</span>
                  <span class="word-card">they</span>
                  <span class="word-card">30</span>
                  <span class="word-card">minutes</span>
                </div>
                <input type="text" class="scramble-input" id="scramble1-5" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "They" and remember "been"!</div>
              </div>
              
              <button class="check-button" onclick="checkScramble1()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-scramble1" class="feedback"></div>
            </div>

            <div class="tip-box" style="margin-top: var(--spacing-lg);">
              <strong>‚úÖ Great job!</strong> You've learned how to make positive sentences. When you're ready, scroll down to learn about negative sentences!
            </div>
          </div>

          <!-- STEP 2: NEGATIVE -->
          <div class="step-section" id="step2">
            <div class="step-header">
              <span class="step-number">2</span>
              <h2 class="step-title">Present Perfect Continuous - Negative Sentences</h2>
            </div>

            <div class="explanation-box">
              <h3 style="color: #1e293b; margin-top: 0;">What are negative sentences?</h3>
              <p>Negative sentences tell us what someone <strong>hasn't done</strong> or <strong>hasn't been doing</strong>. We add <span class="highlight">not</span> after have/has.</p>
              
              <div class="formula-box">
                <div style="margin-bottom: var(--spacing-sm);">
                  <span class="formula-part subject-part">I/You/We/They</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">have not/haven't</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                </div>
                <div style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);">
                  <span class="formula-part subject-part">He/She/It</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">has not/hasn't</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                </div>
                <div style="font-size: var(--font-size-sm); color: var(--color-text-muted); margin-top: var(--spacing-xs);">
                  ‚ö†Ô∏è Important: We can use contractions: <span class="highlight">haven't</span> (have not) and <span class="highlight">hasn't</span> (has not)! Don't forget <span class="highlight">been</span>!
                </div>
              </div>

              <div class="example-box">
                <strong style="color: #1e293b;">Look at these examples:</strong>
                <div class="example">I <span class="highlight">haven't been studying</span> much lately. (I + haven't + been + studying)</div>
                <div class="example">She <span class="highlight">hasn't been working</span> here long. (She + hasn't + been + working)</div>
                <div class="example">They <span class="highlight">haven't been waiting</span> long. (They + haven't + been + waiting)</div>
                <div class="example">He <span class="highlight">has not been feeling</span> well. (He + has not + been + feeling)</div>
                <div class="example">We <span class="highlight">haven't been practicing</span> enough. (We + haven't + been + practicing)</div>
                <div class="example">Maria <span class="highlight">hasn't been sleeping</span> well. (Maria + hasn't + been + sleeping)</div>
              </div>

              <div class="tip-box">
                <strong>üí° Remember:</strong> 
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>I, you, we, they ‚Üí use <strong>haven't</strong> or <strong>have not</strong> + been + verb + -ing</li>
                  <li>He, she, it ‚Üí use <strong>hasn't</strong> or <strong>has not</strong> + been + verb + -ing</li>
                  <li>Remember: <strong>haven't</strong> = have not, <strong>hasn't</strong> = has not</li>
                  <li>Don't forget <strong>been</strong>! It's always there in Present Perfect Continuous!</li>
                </ul>
              </div>
            </div>

            <!-- Practice Exercise 3 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="x-circle" style="width: 24px; height: 24px;"></i>
                Practice: Make Negative Sentences
              </div>
              <p class="exercise-instructions">Change each positive sentence into a negative sentence. Use haven't or hasn't + been + verb-ing.</p>
              
              <div class="exercise-item">
                <label>1. I have been studying all morning. ‚Üí I <input type="text" id="ex2-1" placeholder="haven't been studying/hasn't been studying"> much lately.</label>
              </div>
              <div class="exercise-item">
                <label>2. She has been working here. ‚Üí She <input type="text" id="ex2-2" placeholder="haven't been working/hasn't been working"> here long.</label>
              </div>
              <div class="exercise-item">
                <label>3. They have been waiting. ‚Üí They <input type="text" id="ex2-3" placeholder="haven't been waiting/hasn't been waiting"> long.</label>
              </div>
              <div class="exercise-item">
                <label>4. He has been feeling well. ‚Üí He <input type="text" id="ex2-4" placeholder="haven't been feeling/hasn't been feeling"> well.</label>
              </div>
              <div class="exercise-item">
                <label>5. We have been practicing. ‚Üí We <input type="text" id="ex2-5" placeholder="haven't been practicing/hasn't been practicing"> enough.</label>
              </div>
              <div class="exercise-item">
                <label>6. Maria has been sleeping well. ‚Üí Maria <input type="text" id="ex2-6" placeholder="haven't been sleeping/hasn't been sleeping"> well.</label>
              </div>
              
              <button class="check-button" onclick="checkExercise2()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback2" class="feedback"></div>
            </div>

            <!-- Practice Exercise 4 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="refresh-cw" style="width: 24px; height: 24px;"></i>
                More Practice: Positive or Negative?
              </div>
              <p class="exercise-instructions">Read each sentence and rewrite it in the opposite form (positive to negative, or negative to positive). Remember to use haven't/hasn't + been + verb-ing!</p>
              
              <div class="exercise-item">
                <label>1. "I have been studying." ‚Üí Make it negative: I <input type="text" id="ex2b-1" placeholder="haven't been studying/hasn't been studying"> much lately.</label>
              </div>
              <div class="exercise-item">
                <label>2. "She hasn't been working here long." ‚Üí Make it positive: She <input type="text" id="ex2b-2" placeholder="has been working/have been working"> here for 5 years.</label>
              </div>
              <div class="exercise-item">
                <label>3. "They haven't been waiting." ‚Üí Make it positive: They <input type="text" id="ex2b-3" placeholder="have been waiting/has been waiting"> for 30 minutes.</label>
              </div>
              <div class="exercise-item">
                <label>4. "He has been feeling well." ‚Üí Make it negative: He <input type="text" id="ex2b-4" placeholder="hasn't been feeling/haven't been feeling"> well.</label>
              </div>
              
              <button class="check-button" onclick="checkExercise2b()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback2b" class="feedback"></div>
            </div>

            <!-- Scrambled Sentences Exercise - Negative -->
            <div class="word-scramble-section">
              <div class="exercise-title">
                <i data-lucide="shuffle" style="width: 24px; height: 24px;"></i>
                Scrambled Sentences: Put the Words in Order (Negative Sentences)
              </div>
              <p class="exercise-instructions">Put the words in the correct order to make negative Present Perfect Continuous sentences. Remember to use haven't or hasn't + been + verb-ing!</p>
              
              <div class="exercise-item">
                <label>1. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">lately</span>
                  <span class="word-card">studying</span>
                  <span class="word-card">been</span>
                  <span class="word-card">haven't</span>
                  <span class="word-card">I</span>
                  <span class="word-card">much</span>
                </div>
                <input type="text" class="scramble-input" id="scramble2-1" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "I" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>2. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">here</span>
                  <span class="word-card">working</span>
                  <span class="word-card">been</span>
                  <span class="word-card">hasn't</span>
                  <span class="word-card">she</span>
                  <span class="word-card">long</span>
                </div>
                <input type="text" class="scramble-input" id="scramble2-2" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "She" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>3. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">long</span>
                  <span class="word-card">waiting</span>
                  <span class="word-card">been</span>
                  <span class="word-card">haven't</span>
                  <span class="word-card">they</span>
                </div>
                <input type="text" class="scramble-input" id="scramble2-3" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "They" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>4. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">well</span>
                  <span class="word-card">feeling</span>
                  <span class="word-card">been</span>
                  <span class="word-card">hasn't</span>
                  <span class="word-card">he</span>
                </div>
                <input type="text" class="scramble-input" id="scramble2-4" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "He" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>5. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">enough</span>
                  <span class="word-card">practicing</span>
                  <span class="word-card">been</span>
                  <span class="word-card">haven't</span>
                  <span class="word-card">we</span>
                </div>
                <input type="text" class="scramble-input" id="scramble2-5" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "We" and remember "been"!</div>
              </div>
              
              <button class="check-button" onclick="checkScramble2()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-scramble2" class="feedback"></div>
            </div>

            <div class="tip-box" style="margin-top: var(--spacing-lg);">
              <strong>‚úÖ Excellent!</strong> You can now make both positive and negative sentences. Ready for questions? Let's go!
            </div>
          </div>

          <!-- STEP 3: QUESTIONS -->
          <div class="step-section" id="step3">
            <div class="step-header">
              <span class="step-number">3</span>
              <h2 class="step-title">Present Perfect Continuous - Questions</h2>
            </div>

            <div class="explanation-box">
              <h3 style="color: #1e293b; margin-top: 0;">How do we make questions?</h3>
              <p>To make questions, we start with <span class="highlight">Have</span> or <span class="highlight">Has</span>, then add the subject, then <span class="highlight">been</span>, then the verb + -ing.</p>
              
              <div class="formula-box">
                <div style="margin-bottom: var(--spacing-sm);">
                  <span class="formula-part verb-part">Have</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part subject-part">I/you/we/they</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                  <span style="margin: 0 var(--spacing-xs);">?</span>
                </div>
                <div style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);">
                  <span class="formula-part verb-part">Has</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part subject-part">he/she/it</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part verb-part">been</span>
                  <span style="margin: 0 var(--spacing-xs);">+</span>
                  <span class="formula-part object-part">verb + -ing</span>
                  <span style="margin: 0 var(--spacing-xs);">?</span>
                </div>
                <div style="font-size: var(--font-size-sm); color: var(--color-text-muted); margin-top: var(--spacing-xs);">
                  ‚ö†Ô∏è Important: After Have/Has, we use <strong>been</strong> + <strong>verb + -ing</strong>! Don't forget "been"!
                </div>
              </div>

              <div class="example-box">
                <strong style="color: #1e293b;">Look at these examples:</strong>
                <div class="example"><span class="highlight">Have</span> you been studying all morning? (Have + you + been + studying)</div>
                <div class="example"><span class="highlight">Has</span> she been working here long? (Has + she + been + working)</div>
                <div class="example"><span class="highlight">Have</span> they been waiting long? (Have + they + been + waiting)</div>
                <div class="example"><span class="highlight">Has</span> he been feeling well? (Has + he + been + feeling)</div>
                <div class="example"><span class="highlight">Have</span> we been practicing enough? (Have + we + been + practicing)</div>
                <div class="example"><span class="highlight">Has</span> Maria been sleeping well? (Has + Maria + been + sleeping)</div>
              </div>

              <div class="tip-box">
                <strong>üí° Remember:</strong> 
                <ul style="margin: var(--spacing-xs) 0; padding-left: var(--spacing-lg);">
                  <li>I, you, we, they ‚Üí start with <strong>Have</strong></li>
                  <li>He, she, it ‚Üí start with <strong>Has</strong></li>
                  <li>After Have/Has, use <strong>been</strong> + <strong>verb + -ing</strong></li>
                  <li>Don't forget <strong>been</strong>! It's always there in Present Perfect Continuous!</li>
                  <li>Don't forget the question mark <strong>?</strong></li>
                </ul>
              </div>
            </div>

            <!-- Practice Exercise 5 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Practice: Make Questions
              </div>
              <p class="exercise-instructions">Change each statement into a question. Start with Have or Has, and remember to include "been"!</p>
              
              <div class="exercise-item">
                <label>1. She has been studying all morning. ‚Üí <input type="text" id="ex3-1" placeholder="Have/Has"> she been studying all morning?</label>
              </div>
              <div class="exercise-item">
                <label>2. They have been working here. ‚Üí <input type="text" id="ex3-2" placeholder="Have/Has"> they been working here?</label>
              </div>
              <div class="exercise-item">
                <label>3. He has been waiting long. ‚Üí <input type="text" id="ex3-3" placeholder="Have/Has"> he been waiting long?</label>
              </div>
              <div class="exercise-item">
                <label>4. You have been learning English. ‚Üí <input type="text" id="ex3-4" placeholder="Have/Has"> you been learning English?</label>
              </div>
              <div class="exercise-item">
                <label>5. Maria has been teaching here. ‚Üí <input type="text" id="ex3-5" placeholder="Have/Has"> Maria been teaching here?</label>
              </div>
              <div class="exercise-item">
                <label>6. We have been living here. ‚Üí <input type="text" id="ex3-6" placeholder="Have/Has"> we been living here?</label>
              </div>
              <div class="exercise-item">
                <label>7. He has been feeling well. ‚Üí <input type="text" id="ex3-7" placeholder="Have/Has"> he been feeling well?</label>
              </div>
              
              <button class="check-button" onclick="checkExercise3()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback3" class="feedback"></div>
            </div>

            <!-- Practice Exercise 6 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="refresh-cw" style="width: 24px; height: 24px;"></i>
                More Practice: Statement or Question?
              </div>
              <p class="exercise-instructions">Change each statement into a question, and each question into a statement.</p>
              
              <div class="exercise-item">
                <label>1. "She has been working here." ‚Üí Make it a question: <input type="text" id="ex3b-1" placeholder="Has she been working here?" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>2. "Have they been studying?" ‚Üí Make it a statement: <input type="text" id="ex3b-2" placeholder="They have been studying." style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>3. "He has been waiting." ‚Üí Make it a question: <input type="text" id="ex3b-3" placeholder="Has he been waiting?" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>4. "Have you been learning English?" ‚Üí Make it a statement: <input type="text" id="ex3b-4" placeholder="You have been learning English." style="width: 100%;"></label>
              </div>
              
              <button class="check-button" onclick="checkExercise3b()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback3b" class="feedback"></div>
            </div>

            <!-- Scrambled Sentences Exercise - Questions -->
            <div class="word-scramble-section">
              <div class="exercise-title">
                <i data-lucide="shuffle" style="width: 24px; height: 24px;"></i>
                Scrambled Sentences: Put the Words in Order (Questions)
              </div>
              <p class="exercise-instructions">Put the words in the correct order to make Present Perfect Continuous questions. Remember to start with Have or Has, include "been", and end with a question mark!</p>
              
              <div class="exercise-item">
                <label>1. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">morning</span>
                  <span class="word-card">all</span>
                  <span class="word-card">studying</span>
                  <span class="word-card">been</span>
                  <span class="word-card">you</span>
                  <span class="word-card">Have</span>
                  <span class="word-card">?</span>
                </div>
                <input type="text" class="scramble-input" id="scramble3-1" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Have" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>2. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">here</span>
                  <span class="word-card">working</span>
                  <span class="word-card">been</span>
                  <span class="word-card">she</span>
                  <span class="word-card">Has</span>
                  <span class="word-card">long</span>
                  <span class="word-card">?</span>
                </div>
                <input type="text" class="scramble-input" id="scramble3-2" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Has" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>3. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">long</span>
                  <span class="word-card">waiting</span>
                  <span class="word-card">been</span>
                  <span class="word-card">they</span>
                  <span class="word-card">Have</span>
                  <span class="word-card">?</span>
                </div>
                <input type="text" class="scramble-input" id="scramble3-3" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Have" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>4. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">well</span>
                  <span class="word-card">feeling</span>
                  <span class="word-card">been</span>
                  <span class="word-card">he</span>
                  <span class="word-card">Has</span>
                  <span class="word-card">?</span>
                </div>
                <input type="text" class="scramble-input" id="scramble3-4" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Has" and remember "been"!</div>
              </div>
              
              <div class="exercise-item">
                <label>5. Put these words in order:</label>
                <div class="word-cards">
                  <span class="word-card">enough</span>
                  <span class="word-card">practicing</span>
                  <span class="word-card">been</span>
                  <span class="word-card">we</span>
                  <span class="word-card">Have</span>
                  <span class="word-card">?</span>
                </div>
                <input type="text" class="scramble-input" id="scramble3-5" placeholder="Type the sentence here...">
                <div class="scramble-hint">Hint: Start with "Have" and remember "been"!</div>
              </div>
              
              <button class="check-button" onclick="checkScramble3()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback-scramble3" class="feedback"></div>
            </div>

            <div class="tip-box" style="margin-top: var(--spacing-lg);">
              <strong>‚úÖ Fantastic!</strong> You've learned positive sentences, negative sentences, and questions. Now let's put it all together!
            </div>
          </div>

          <!-- STEP 4: PUT IT ALL TOGETHER -->
          <div class="step-section" id="step4">
            <div class="step-header">
              <span class="step-number">4</span>
              <h2 class="step-title">Put It All Together - Mixed Practice</h2>
            </div>

            <div class="explanation-box">
              <h3 style="color: #1e293b; margin-top: 0;">You've learned everything! Now let's practice it all together.</h3>
              <p>In real life, you'll use positive sentences, negative sentences, and questions all mixed together. Let's practice recognizing and using all three forms!</p>
              
              <div class="formula-box" style="text-align: left; padding: var(--spacing-lg);">
                <div style="margin-bottom: var(--spacing-md);">
                  <strong style="color: #1e293b;">üìù Quick Review:</strong>
                </div>
                <div style="margin-bottom: var(--spacing-sm);">
                  <strong>Positive:</strong> I have been studying. / She has been working.
                </div>
                <div style="margin-bottom: var(--spacing-sm);">
                  <strong>Negative:</strong> I haven't been studying. / She hasn't been working.
                </div>
                <div>
                  <strong>Question:</strong> Have I been studying? / Has she been working?
                </div>
              </div>
            </div>

            <!-- Mixed Exercise 1 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="shuffle" style="width: 24px; height: 24px;"></i>
                Practice: Complete the Sentences (Mixed Forms)
              </div>
              <p class="exercise-instructions">Complete each sentence with the correct form. Think: Is it positive, negative, or a question? Remember: have/has + been + verb-ing!</p>
              
              <div class="exercise-item">
                <label>1. She <input type="text" id="ex4-1" placeholder="has been working/have been working/hasn't been working"> here for 5 years.</label>
              </div>
              <div class="exercise-item">
                <label>2. <input type="text" id="ex4-2" placeholder="Have/Has"> you been studying all morning?</label>
              </div>
              <div class="exercise-item">
                <label>3. They <input type="text" id="ex4-3" placeholder="haven't been waiting/hasn't been waiting"> long.</label>
              </div>
              <div class="exercise-item">
                <label>4. <input type="text" id="ex4-4" placeholder="Have/Has"> he been feeling well?</label>
              </div>
              <div class="exercise-item">
                <label>5. I <input type="text" id="ex4-5" placeholder="have been learning/has been learning/haven't been learning"> English for 2 years.</label>
              </div>
              <div class="exercise-item">
                <label>6. Maria <input type="text" id="ex4-6" placeholder="has been teaching/have been teaching/hasn't been teaching"> here since 2020.</label>
              </div>
              
              <button class="check-button" onclick="checkExercise4()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback4" class="feedback"></div>
            </div>

            <!-- Mixed Exercise 2 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="alert-circle" style="width: 24px; height: 24px;"></i>
                Practice: Find and Correct the Mistakes
              </div>
              <p class="exercise-instructions">Each sentence has one mistake. Find it and write the correct sentence. Remember: have/has + been + verb-ing!</p>
              
              <div class="exercise-item">
                <label>1. She have been working here. ‚Üí <input type="text" id="ex4b-1" placeholder="Correct sentence" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>2. Have he been studying? ‚Üí <input type="text" id="ex4b-2" placeholder="Correct sentence" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>3. They hasn't been waiting. ‚Üí <input type="text" id="ex4b-3" placeholder="Correct sentence" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>4. I has been learning English. ‚Üí <input type="text" id="ex4b-4" placeholder="Correct sentence" style="width: 100%;"></label>
              </div>
              <div class="exercise-item">
                <label>5. Has she been work here? ‚Üí <input type="text" id="ex4b-5" placeholder="Correct sentence" style="width: 100%;"></label>
              </div>
              
              <button class="check-button" onclick="checkExercise4b()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback4b" class="feedback"></div>
            </div>

            <!-- Mixed Exercise 3 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="file-text" style="width: 24px; height: 24px;"></i>
                Practice: Complete the Paragraph
              </div>
              <p class="exercise-instructions">Fill in the blanks to complete Maria's story. Use Present Perfect Continuous forms (have/has + been + verb-ing).</p>
              
              <div style="background: var(--color-bg-light); padding: var(--spacing-lg); border-radius: var(--radius-sm); line-height: 1.8;">
                <p>
                  Hi! My name is Maria. I <input type="text" id="ex4c-1" placeholder="have been living" style="width: 150px;"> in Boston for 5 years. I 
                  <input type="text" id="ex4c-2" placeholder="have been working" style="width: 150px;"> as a teacher since 2020. This morning, I 
                  <input type="text" id="ex4c-3" placeholder="have been studying" style="width: 150px;"> for my exam. I 
                  <input type="text" id="ex4c-4" placeholder="have been drinking" style="width: 150px;"> coffee, but I 
                  <input type="text" id="ex4c-5" placeholder="haven't been eating" style="width: 150px;"> breakfast. I 
                  <input type="text" id="ex4c-6" placeholder="have been going" style="width: 150px;"> to this school for 3 years. 
                  <input type="text" id="ex4c-7" placeholder="Have" style="width: 100px;"> I been enjoying my job? Yes, I 
                  <input type="text" id="ex4c-8" placeholder="have" style="width: 100px;">! I 
                  <input type="text" id="ex4c-9" placeholder="have been learning" style="width: 150px;"> a lot!
                </p>
              </div>
              
              <button class="check-button" onclick="checkExercise4c()">
                <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                Check My Answers
              </button>
              <div id="feedback4c" class="feedback"></div>
            </div>
          </div>

          <!-- MINI QUIZ: MEANING & USAGE -->
          <div class="step-section" id="quiz" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%); border-color: #ec4899;">
            <div class="step-header">
              <span class="step-number" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">?</span>
              <h2 class="step-title">Mini Quiz: Understanding When to Use Present Perfect Continuous</h2>
            </div>

            <div class="explanation-box" style="background: white;">
              <h3 style="color: #ec4899; margin-top: 0;">Test Your Understanding!</h3>
              <p>Now let's see how well you understand <strong>when</strong> and <strong>why</strong> we use Present Perfect Continuous. This quiz tests your knowledge of the meaning and usage!</p>
            </div>

            <!-- Quiz Question 1 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 1: Which sentence uses Present Perfect Continuous correctly?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz1" value="a" id="quiz1-a">
                  a) I have been studying all morning.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz1" value="b" id="quiz1-b">
                  b) I have studying all morning.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz1" value="c" id="quiz1-c">
                  c) I am studying all morning.
                </label>
              </div>
            </div>

            <!-- Quiz Question 2 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 2: Which sentence emphasizes duration and ongoing process?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz2" value="a" id="quiz2-a">
                  a) I have lived here for 5 years. (emphasizes the fact)
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz2" value="b" id="quiz2-b">
                  b) I have been living here for 5 years. (emphasizes duration)
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz2" value="c" id="quiz2-c">
                  c) I lived here in 2020. (finished action)
                </label>
              </div>
            </div>

            <!-- Quiz Question 3 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 3: Which sentence uses Present Perfect Continuous for a recent ongoing action?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz3" value="a" id="quiz3-a">
                  a) I finished my homework yesterday.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz3" value="b" id="quiz3-b">
                  b) I have been studying all morning.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz3" value="c" id="quiz3-c">
                  c) I study every morning.
                </label>
              </div>
            </div>

            <!-- Quiz Question 4 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 4: Which sentence uses Present Perfect Continuous for an ongoing action with duration?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz4" value="a" id="quiz4-a">
                  a) I have been living here for 5 years. (emphasizes duration, still happening)
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz4" value="b" id="quiz4-b">
                  b) I lived here for 5 years. (finished action)
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz4" value="c" id="quiz4-c">
                  c) I live here now.
                </label>
              </div>
            </div>

            <!-- Quiz Question 5 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 5: Which time expression goes with Present Perfect Continuous?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz5" value="a" id="quiz5-a">
                  a) yesterday
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz5" value="b" id="quiz5-b">
                  b) for 5 years
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz5" value="c" id="quiz5-c">
                  c) last week
                </label>
              </div>
            </div>

            <!-- Quiz Question 6 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 6: Which sentence uses Present Perfect Continuous for repeated actions over time?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz6" value="a" id="quiz6-a">
                  a) I have been going to the gym regularly.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz6" value="b" id="quiz6-b">
                  b) I went to the gym yesterday.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz6" value="c" id="quiz6-c">
                  c) I go to the gym every day.
                </label>
              </div>
            </div>

            <!-- Quiz Question 7 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 7: Which sentence uses Present Perfect Continuous correctly?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz7" value="a" id="quiz7-a">
                  a) I have been studying for 2 hours.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz7" value="b" id="quiz7-b">
                  b) I have studying for 2 hours.
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz7" value="c" id="quiz7-c">
                  c) I am studying for 2 hours.
                </label>
              </div>
            </div>

            <!-- Quiz Question 8 -->
            <div class="exercise-section">
              <div class="exercise-title">
                <i data-lucide="help-circle" style="width: 24px; height: 24px;"></i>
                Question 8: What's the key difference between Present Perfect Simple and Continuous?
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz8" value="a" id="quiz8-a">
                  a) Present Perfect Continuous emphasizes duration/ongoing process; Simple emphasizes result/completion
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz8" value="b" id="quiz8-b">
                  b) Present Perfect Continuous is for finished actions; Simple is for ongoing actions
                </label>
              </div>
              <div class="exercise-item">
                <label>
                  <input type="radio" name="quiz8" value="c" id="quiz8-c">
                  c) When talking about unfinished actions
                </label>
              </div>
            </div>

            <button class="check-button" onclick="checkQuiz()" style="margin-top: var(--spacing-lg);">
              <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
              Check My Quiz Answers
            </button>
            <div id="feedback-quiz" class="feedback"></div>

            <div class="tip-box" style="margin-top: var(--spacing-lg);">
              <strong>üí° Remember:</strong> Present Perfect Continuous connects the <strong>past to the present</strong>. Use Past Simple when there's a <strong>specific past time mentioned</strong> (yesterday, last week, in 2019, etc.)!
            </div>
          </div>

          <!-- Summary Box -->
          <div class="explanation-box" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%); border-color: rgba(16, 185, 129, 0.3);">
            <h3 style="color: #10b981; margin-top: 0;">
              <i data-lucide="award" style="width: 20px; height: 20px; display: inline-block; vertical-align: middle;"></i>
              Congratulations! You've Completed Present Perfect Continuous!
              </h3>
              <p><strong>You now know how to:</strong></p>
              <ul style="margin: var(--spacing-sm) 0; padding-left: var(--spacing-lg);">
                <li>‚úÖ Make positive sentences (I have worked / She has worked)</li>
                <li>‚úÖ Make negative sentences (I haven't worked / She hasn't worked)</li>
                <li>‚úÖ Make questions (Have I worked? / Has she worked?)</li>
                <li>‚úÖ Use verb + -ings (regular and irregular verbs)</li>
                <li>‚úÖ Use For/Since/Already/Yet/Just correctly</li>
                <li>‚úÖ Choose between Past Simple and Present Perfect Continuous</li>
                <li>‚úÖ Use Present Perfect Continuous in real situations</li>
              </ul>
              <p style="margin-top: var(--spacing-md);"><strong>Keep practicing!</strong> The more you use Present Perfect Continuous, the easier it becomes.</p>
            </div>
          </div>

        </div>
      </div>
    </section>
  </main>

  <footer style="background-color: var(--color-bg-gray); padding: var(--spacing-xl) 0; margin-top: var(--spacing-3xl);">
    <div class="container text-center">
      <p style="color: var(--color-text-muted); font-size: var(--font-size-sm);">
        ESOL Teacher Resources - Free materials for English language educators
      </p>
    </div>
  </footer>

  <script src="../../../assets/js/main.js"></script>
  <script>
    // Initialize Lucide icons
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }

    // Answer keys
    const answers = {
      ex1: ['has been working', 'have been living', 'has been waiting', 'have been studying', 'has been teaching'],
      ex1b: ['has been working', 'have been living', 'has been waiting', 'have been studying'],
      ex2: ["haven't been studying", "hasn't been working", "haven't been waiting", "hasn't been feeling", "haven't been practicing", "hasn't been sleeping"],
      ex2b: ["haven't been studying", "has been working", "have been waiting", "hasn't been feeling"],
      ex3: ['Has', 'Have', 'Has', 'Have', 'Has', 'Have', 'Has'],
      ex3b: ['Has she been working here?', 'They have been studying.', 'Has he been waiting?', 'You have been learning English.'],
      ex4: ['has been working', 'Have', "haven't been waiting", 'Has', 'have been learning', 'has been teaching'],
      ex4b: [
        'She has been working here.',
        'Has he been studying?',
        "They haven't been waiting.",
        'I have been learning English.',
        'Has she been working here?'
      ],
      ex4c: ['have been living', 'have been working', 'have been studying', 'have been drinking', "haven't been eating", 'have been going', 'Have', 'have', 'have been learning'],
      meaning: ['duration', 'recent', 'temporary', 'visible', 'repeated'],
      timeExpressions: [
        'for',
        'since',
        'for'
      ],
      scramble1: [
        'She has been working here for 5 years.',
        'I have been studying all morning.',
        'Maria has been teaching here since 2020.',
        'We have been learning English for 2 years.',
        'They have been waiting for 30 minutes.'
      ],
      scramble2: [
        "I haven't been studying much lately.",
        "She hasn't been working here long.",
        "They haven't been waiting long.",
        "He hasn't been feeling well.",
        "We haven't been practicing enough."
      ],
      scramble3: [
        'Have you been studying all morning?',
        'Has she been working here long?',
        'Have they been waiting long?',
        'Has he been feeling well?',
        'Have we been practicing enough?'
      ],
      quiz: ['a', 'b', 'b', 'a', 'b', 'a', 'a', 'a']
    };

    function updateProgress(step) {
      for (let i = 1; i <= 4; i++) {
        const dot = document.getElementById(`dot${i}`);
        if (i < step) {
          dot.className = 'progress-dot completed';
        } else if (i === step) {
          dot.className = 'progress-dot active';
        } else {
          dot.className = 'progress-dot';
        }
      }
    }

    function checkExercise1() {
      const feedback = document.getElementById('feedback1');
      let correct = 0;
      let total = 5;
      
      answers.ex1.forEach((answer, index) => {
        const input = document.getElementById(`ex1-${index + 1}`);
        if (!input) return;
        if (input.value.toLowerCase().trim() === answer.toLowerCase()) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job with positive sentences. Ready for the next step?`
        : `You got ${correct} out of ${total} correct. Remember: he/she/it uses "has", I/you/we/they use "have"! Keep practicing!`;
      feedback.style.display = 'block';
      
      if (correct === total) {
        updateProgress(2);
      }
    }

    function checkExercise1b() {
      const feedback = document.getElementById('feedback1b');
      let correct = 0;
      let total = 4;
      
      answers.ex1b.forEach((answer, index) => {
        const select = document.getElementById(`ex1b-${index + 1}`);
        if (!select) return;
        if (select.value === answer) {
          correct++;
          select.style.borderColor = '#10b981';
          select.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          select.style.borderColor = '#ef4444';
          select.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Excellent! You got all ${total} correct!`
        : `You got ${correct} out of ${total} correct. Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkExercise2() {
      const feedback = document.getElementById('feedback2');
      let correct = 0;
      let total = 6;
      
      answers.ex2.forEach((answer, index) => {
        const input = document.getElementById(`ex2-${index + 1}`);
        if (!input) return;
        if (input.value.toLowerCase().trim() === answer.toLowerCase()) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job with negative sentences. Ready for questions?`
        : `You got ${correct} out of ${total} correct. Remember: I/you/we/they use "haven't", he/she/it uses "hasn't"!`;
      feedback.style.display = 'block';
      
      if (correct === total) {
        updateProgress(3);
      }
    }

    function checkExercise2b() {
      const feedback = document.getElementById('feedback2b');
      let correct = 0;
      let total = 4;
      
      answers.ex2b.forEach((answer, index) => {
        const input = document.getElementById(`ex2b-${index + 1}`);
        if (!input) return;
        if (input.value.toLowerCase().trim() === answer.toLowerCase()) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Excellent! You got all ${total} correct!`
        : `You got ${correct} out of ${total} correct. Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkExercise3() {
      const feedback = document.getElementById('feedback3');
      let correct = 0;
      let total = 7;
      
      answers.ex3.forEach((answer, index) => {
        const input = document.getElementById(`ex3-${index + 1}`);
        if (!input) return;
        if (input.value.trim() === answer) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job with questions. Ready to put it all together?`
        : `You got ${correct} out of ${total} correct. Remember: I/you/we/they use "Have", he/she/it uses "Has"!`;
      feedback.style.display = 'block';
      
      if (correct === total) {
        updateProgress(4);
      }
    }

    function checkExercise3b() {
      const feedback = document.getElementById('feedback3b');
      let correct = 0;
      let total = 4;
      
      answers.ex3b.forEach((answer, index) => {
        const input = document.getElementById(`ex3b-${index + 1}`);
        if (!input) return;
        const userAnswer = input.value.trim();
        if (userAnswer.toLowerCase().replace(/[.,!?]/g, '').includes(answer.toLowerCase().replace(/[.,!?]/g, '').substring(0, 10))) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Excellent! You got all ${total} correct!`
        : `You got ${correct} out of ${total} correct. Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkExercise4() {
      const feedback = document.getElementById('feedback4');
      let correct = 0;
      let total = 6;
      
      answers.ex4.forEach((answer, index) => {
        const input = document.getElementById(`ex4-${index + 1}`);
        if (!input) return;
        if (input.value.toLowerCase().trim() === answer.toLowerCase()) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! You're mastering Present Perfect Continuous!`
        : `You got ${correct} out of ${total} correct. Think about whether it's positive, negative, or a question!`;
      feedback.style.display = 'block';
    }

    function checkExercise4b() {
      const feedback = document.getElementById('feedback4b');
      let correct = 0;
      let total = 5;
      
      answers.ex4b.forEach((answer, index) => {
        const input = document.getElementById(`ex4b-${index + 1}`);
        if (!input) return;
        const userAnswer = input.value.trim();
        if (userAnswer.toLowerCase().replace(/[.,!?]/g, '').includes(answer.toLowerCase().replace(/[.,!?]/g, '').substring(0, 15))) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Excellent! You found all ${total} mistakes!`
        : `You got ${correct} out of ${total} correct. Look carefully at the verb forms!`;
      feedback.style.display = 'block';
    }

    function checkExercise4c() {
      const feedback = document.getElementById('feedback4c');
      let correct = 0;
      let total = 9;
      
      answers.ex4c.forEach((answer, index) => {
        const input = document.getElementById(`ex4c-${index + 1}`);
        if (!input) return;
        if (input.value.toLowerCase().trim() === answer.toLowerCase()) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! You've mastered Present Perfect Continuous! üéâ`
        : `You got ${correct} out of ${total} correct. Great effort! Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkMeaningExercise() {
      const feedback = document.getElementById('feedback-meaning');
      let correct = 0;
      let total = 5;
      
      answers.meaning.forEach((answer, index) => {
        const select = document.getElementById(`meaning-${index + 1}`);
        if (!select) return;
        if (select.value === answer) {
          correct++;
          select.style.borderColor = '#10b981';
          select.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          select.style.borderColor = '#ef4444';
          select.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! You understand when to use Present Perfect Continuous!`
        : `You got ${correct} out of ${total} correct. Think about: ongoing actions with duration, recent ongoing actions, temporary situations, repeated actions over time, and actions with visible results!`;
      feedback.style.display = 'block';
    }

    function checkTimeExpressions() {
      const feedback = document.getElementById('feedback-time');
      let correct = 0;
      let total = 3;
      const expectedAnswers = [
        ['for'],
        ['since'],
        ['just', 'already']
      ];
      
      expectedAnswers.forEach((possibleAnswers, index) => {
        const input = document.getElementById(`time-ex${index + 1}`);
        if (!input) return;
        const userAnswer = normalizeAnswer(input.value);
        let isCorrect = false;
        
        possibleAnswers.forEach(answer => {
          if (userAnswer.includes(answer)) {
            isCorrect = true;
          }
        });
        
        if (isCorrect) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! You can identify time expressions for Present Perfect Continuous!`
        : `You got ${correct} out of ${total} correct. Remember: Look for words like "for", "since", "already", "yet", "just", "this week/month", "today", etc.`;
      feedback.style.display = 'block';
    }

    function checkStateVerbs() {
      const feedback = document.getElementById('feedback-state-verbs');
      let correct = 0;
      let total = 5;
      const answers = ['state', 'action', 'state', 'action', 'state'];
      const explanations = [
        '‚úÖ Correct! "Like" is a state verb (feeling) - we say "I like" not "I am liking".',
        '‚úÖ Correct! "Eating" is an action verb (activity) - action verbs can use continuous forms.',
        '‚úÖ Correct! "Know" is a state verb (thought) - we say "I know" not "I am knowing".',
        '‚úÖ Correct! "Studying" is an action verb (activity) - action verbs can use continuous forms.',
        '‚úÖ Correct! "Want" is a state verb (desire) - we say "I want" not "I am wanting".'
      ];
      
      answers.forEach((answer, index) => {
        const select = document.getElementById(`state-verb-${index + 1}`);
        if (!select) return;
        if (select.value === answer) {
          correct++;
          select.style.borderColor = '#10b981';
          select.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else if (select.value) {
          select.style.borderColor = '#ef4444';
          select.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      
      let feedbackHTML = '';
      if (correct === total) {
        feedbackHTML = `‚úÖ Perfect! You got all ${total} correct! You understand the difference between state verbs and action verbs!`;
      } else {
        feedbackHTML = `<strong>You got ${correct} out of ${total} correct.</strong><br><br>`;
        feedbackHTML += '<strong>Review your answers:</strong><br>';
        
        answers.forEach((answer, index) => {
          const select = document.getElementById(`state-verb-${index + 1}`);
          if (!select || !select.value || select.value !== answer) {
            feedbackHTML += `<br><strong>Question ${index + 1}:</strong> ${explanations[index]}`;
          }
        });
      }
      
      feedback.innerHTML = feedbackHTML;
      feedback.style.display = 'block';
    }

    function normalizeAnswer(answer) {
      // Remove extra spaces, normalize punctuation, convert to lowercase
      return answer.toLowerCase().trim().replace(/\s+/g, ' ').replace(/[.,!?]/g, '');
    }

    function checkScramble1() {
      const feedback = document.getElementById('feedback-scramble1');
      let correct = 0;
      let total = 5;
      
      answers.scramble1.forEach((answer, index) => {
        const input = document.getElementById(`scramble1-${index + 1}`);
        if (!input) return;
        const userAnswer = normalizeAnswer(input.value);
        const correctAnswer = normalizeAnswer(answer);
        
        if (userAnswer === correctAnswer) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job putting positive sentences in order!`
        : `You got ${correct} out of ${total} correct. Remember: Subject + have/has + verb + -ing. Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkScramble2() {
      const feedback = document.getElementById('feedback-scramble2');
      let correct = 0;
      let total = 5;
      
      answers.scramble2.forEach((answer, index) => {
        const input = document.getElementById(`scramble2-${index + 1}`);
        if (!input) return;
        const userAnswer = normalizeAnswer(input.value);
        const correctAnswer = normalizeAnswer(answer);
        
        if (userAnswer === correctAnswer) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job putting negative sentences in order!`
        : `You got ${correct} out of ${total} correct. Remember: Subject + haven't/hasn't + verb + -ing. Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkScramble3() {
      const feedback = document.getElementById('feedback-scramble3');
      let correct = 0;
      let total = 5;
      
      answers.scramble3.forEach((answer, index) => {
        const input = document.getElementById(`scramble3-${index + 1}`);
        if (!input) return;
        const userAnswer = normalizeAnswer(input.value);
        const correctAnswer = normalizeAnswer(answer);
        
        if (userAnswer === correctAnswer) {
          correct++;
          input.style.borderColor = '#10b981';
          input.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        } else {
          input.style.borderColor = '#ef4444';
          input.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      feedback.innerHTML = correct === total 
        ? `‚úÖ Perfect! You got all ${total} correct! Great job putting questions in order!`
        : `You got ${correct} out of ${total} correct. Remember: Have/Has + subject + verb + -ing + ? Keep practicing!`;
      feedback.style.display = 'block';
    }

    function checkQuiz() {
      const feedback = document.getElementById('feedback-quiz');
      let correct = 0;
      let total = 8;
      const explanations = [
        { correct: 'b', explanation: '‚úÖ Correct! "I have been to Paris three times" uses Present Perfect Continuous for a life experience (no specific time).' },
        { correct: 'a', explanation: '‚úÖ Correct! "I lived here in 2020" uses Past Simple because there\'s a specific past time (2020).' },
        { correct: 'b', explanation: '‚úÖ Correct! "I have just finished my homework" uses Present Perfect Continuous with "just" for a recent action.' },
        { correct: 'a', explanation: '‚úÖ Correct! "I have lived here for 5 years" uses Present Perfect Continuous for an unfinished action (still living here).' },
        { correct: 'b', explanation: '‚úÖ Correct! "for 5 years" is used with Present Perfect Continuous to show duration of an unfinished action.' },
        { correct: 'a', explanation: '‚úÖ Correct! "I have been to Japan" uses Present Perfect Continuous for a life experience (no specific time mentioned).' },
        { correct: 'b', explanation: '‚úÖ Correct! "I haven\'t finished my homework yet" uses Present Perfect Continuous negative with "yet" (at the end).' },
        { correct: 'a', explanation: '‚úÖ Correct! Use Past Simple when there\'s a specific past time mentioned (yesterday, last week, in 2019).' }
      ];
      
      answers.quiz.forEach((answer, index) => {
        const questionNum = index + 1;
        const selected = document.querySelector(`input[name="quiz${questionNum}"]:checked`);
        
        if (selected && selected.value === answer) {
          correct++;
          // Highlight correct answer
          const label = selected.closest('label');
          if (label) {
            label.style.color = '#10b981';
            label.style.fontWeight = '600';
          }
        } else {
          // Highlight incorrect answer
          if (selected) {
            const label = selected.closest('label');
            if (label) {
              label.style.color = '#ef4444';
            }
          }
          // Show correct answer
          const correctRadio = document.getElementById(`quiz${questionNum}-${answer}`);
          if (correctRadio) {
            const correctLabel = correctRadio.closest('label');
            if (correctLabel) {
              correctLabel.style.color = '#10b981';
              correctLabel.style.fontWeight = '600';
            }
          }
        }
      });
      
      feedback.className = `feedback ${correct === total ? 'correct' : 'incorrect'}`;
      
      let feedbackHTML = '';
      if (correct === total) {
        feedbackHTML = `üéâ <strong>Perfect Score!</strong> You got all ${total} questions correct! You really understand when to use Present Perfect Continuous!`;
      } else {
        feedbackHTML = `<strong>You got ${correct} out of ${total} correct.</strong><br><br>`;
        feedbackHTML += '<strong>Review your answers:</strong><br>';
        
        answers.quiz.forEach((answer, index) => {
          const questionNum = index + 1;
          const selected = document.querySelector(`input[name="quiz${questionNum}"]:checked`);
          if (!selected || selected.value !== answer) {
            feedbackHTML += `<br><strong>Question ${questionNum}:</strong> ${explanations[index].explanation}`;
          }
        });
      }
      
      feedback.innerHTML = feedbackHTML;
      feedback.style.display = 'block';
    }

    // Initialize progress
    updateProgress(1);
  </script>
</body>
</html>
