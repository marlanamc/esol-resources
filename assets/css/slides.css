/* Slide Presentation Styles */

.slide-presentation {
  overflow: hidden;
  height: 100vh;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  position: relative;
}

/* Slide Controls */
.slide-controls {
  position: fixed;
  bottom: var(--spacing-lg);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  background: rgba(15, 23, 42, 0.9);
  backdrop-filter: blur(10px);
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.1);
  z-index: 1000;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.slide-control-btn {
  background: rgba(99, 102, 241, 0.2);
  border: 1px solid rgba(99, 102, 241, 0.3);
  color: white;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
}

.slide-control-btn:hover {
  background: rgba(99, 102, 241, 0.4);
  border-color: rgba(99, 102, 241, 0.5);
  transform: scale(1.05);
}

.slide-control-btn:active {
  transform: scale(0.95);
}

.slide-control-btn .icon {
  width: 20px;
  height: 20px;
  stroke-width: 2;
}

.slide-counter {
  color: white;
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
  padding: 0 var(--spacing-md);
  min-width: 60px;
  text-align: center;
}

/* Slide Progress Bar */
.slide-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  z-index: 999;
}

.slide-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
  transition: width 0.3s ease;
  width: 0%;
}

/* Slides Container */
.slides-container {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  position: relative;
}

/* Individual Slide */
.slide {
  width: 100%;
  height: 100vh;
  display: none;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-3xl);
  box-sizing: border-box;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.slide.active {
  display: flex;
  opacity: 1;
  z-index: 1;
}

.slide-content {
  max-width: 1400px;
  width: 100%;
  margin: 0 auto;
  background: var(--color-bg);
  border-radius: var(--radius-xl);
  padding: var(--spacing-3xl);
  padding-bottom: calc(var(--spacing-3xl) + 100px);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  animation: slideIn 0.5s ease;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide Typography */
.slide-title-main {
  font-size: 3.5rem;
  font-weight: var(--font-weight-bold);
  text-align: center;
  margin-bottom: var(--spacing-md);
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.slide-subtitle {
  font-size: var(--font-size-xl);
  color: var(--color-text-muted);
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

.slide-heading {
  font-size: 2.5rem;
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--spacing-xl);
  color: var(--color-text);
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.slide-heading .icon {
  width: 32px;
  height: 32px;
  color: var(--color-primary);
}

.slide-text {
  font-size: var(--font-size-lg);
  line-height: var(--line-height-base);
  color: var(--color-text);
}

.slide-list {
  font-size: var(--font-size-lg);
  line-height: 2;
  color: var(--color-text);
  padding-left: var(--spacing-xl);
}

.slide-list li {
  margin-bottom: var(--spacing-md);
}

/* Slide Types */
.slide-title {
  text-align: center;
}

.slide-meta {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  margin-top: var(--spacing-xl);
}

.slide-level,
.slide-topic {
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.slide-level {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(99, 102, 241, 0.05) 100%);
  color: var(--color-primary);
  border: 1px solid rgba(99, 102, 241, 0.2);
}

.slide-topic {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.05) 100%);
  color: var(--color-secondary);
  border: 1px solid rgba(139, 92, 246, 0.2);
}

/* Example Box */
.example-box {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
  border: 2px solid rgba(99, 102, 241, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin: var(--spacing-xl) 0;
}

.example-item {
  margin-bottom: var(--spacing-md);
}

.example-text {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-medium);
  color: var(--color-primary);
  margin-top: var(--spacing-sm);
  padding: var(--spacing-md);
  background: white;
  border-radius: var(--radius-md);
  border-left: 4px solid var(--color-primary);
}

/* Formula Display */
.formula-display {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-md);
  flex-wrap: wrap;
  margin: var(--spacing-2xl) 0;
}

.formula-part {
  padding: var(--spacing-md) var(--spacing-xl);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-lg);
  border: 2px solid;
}

.formula-part.subject {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(99, 102, 241, 0.05) 100%);
  color: var(--color-primary);
  border-color: rgba(99, 102, 241, 0.3);
}

.formula-part.verb {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.15) 0%, rgba(236, 72, 153, 0.05) 100%);
  color: var(--color-accent);
  border-color: rgba(236, 72, 153, 0.3);
}

.formula-part.object {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%);
  color: var(--color-success);
  border-color: rgba(16, 185, 129, 0.3);
}

.formula-operator {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-muted);
}

.formula-explanation {
  text-align: center;
  color: var(--color-text-muted);
  font-size: var(--font-size-base);
  margin-top: var(--spacing-lg);
}

/* Practice Exercises */
.practice-exercise {
  background: var(--color-bg-light);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin: var(--spacing-xl) 0;
}

.exercise-instruction {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-lg);
  color: var(--color-text);
}

.exercise-list {
  font-size: var(--font-size-lg);
  line-height: 2;
  color: var(--color-text);
}

.exercise-list li {
  margin-bottom: var(--spacing-md);
  padding: var(--spacing-md);
  background: white;
  border-radius: var(--radius-md);
  border-left: 4px solid var(--color-primary);
}

.show-answer-btn {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  border: none;
  padding: var(--spacing-md) var(--spacing-xl);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  margin-top: var(--spacing-lg);
  transition: all var(--transition-fast);
}

.show-answer-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

.answer-key {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
  border: 1px solid rgba(16, 185, 129, 0.2);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  margin-top: var(--spacing-md);
  color: var(--color-success);
}

/* Common Mistakes */
.mistakes-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  margin: var(--spacing-xl) 0;
}

.mistake-item {
  background: var(--color-bg-light);
  border-radius: var(--radius-md);
  padding: var(--spacing-lg);
}

.mistake-wrong {
  color: var(--color-error);
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--spacing-sm);
  padding: var(--spacing-sm);
  background: rgba(239, 68, 68, 0.1);
  border-radius: var(--radius-sm);
}

.mistake-correct {
  color: var(--color-success);
  font-weight: var(--font-weight-medium);
  padding: var(--spacing-sm);
  background: rgba(16, 185, 129, 0.1);
  border-radius: var(--radius-sm);
}

/* Activity Instructions */
.activity-instructions {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%);
  border: 2px solid rgba(139, 92, 246, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin: var(--spacing-xl) 0;
}

.activity-instructions h3 {
  color: var(--color-secondary);
  margin-bottom: var(--spacing-lg);
}

.activity-instructions ol {
  font-size: var(--font-size-lg);
  line-height: 2;
}

/* Summary Points */
.summary-points {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  margin: var(--spacing-xl) 0;
}

.summary-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  background: var(--color-bg-light);
  border-radius: var(--radius-md);
  border-left: 4px solid var(--color-success);
}

.summary-item .icon {
  width: 24px;
  height: 24px;
  color: var(--color-success);
  flex-shrink: 0;
}

.summary-item span {
  font-size: var(--font-size-lg);
  color: var(--color-text);
}

/* Next Steps */
.next-steps {
  background: var(--color-bg-light);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin: var(--spacing-xl) 0;
}

.next-steps h3 {
  color: var(--color-primary);
  margin-bottom: var(--spacing-lg);
}

.next-steps ul {
  font-size: var(--font-size-lg);
  line-height: 2;
}

/* Slide Footer */
.slide-footer {
  text-align: center;
  margin-top: var(--spacing-2xl);
  padding-top: var(--spacing-xl);
  border-top: 1px solid var(--color-border);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

/* Slide Notes */
.slide-note {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  background: rgba(99, 102, 241, 0.1);
  border-left: 4px solid var(--color-primary);
  border-radius: var(--radius-sm);
  margin-top: var(--spacing-lg);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.slide-note .icon {
  width: 18px;
  height: 18px;
  color: var(--color-primary);
  flex-shrink: 0;
}

/* Keyboard Shortcuts Help */
.keyboard-shortcuts {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(15, 23, 42, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  z-index: 2000;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  color: white;
  max-width: 400px;
}

.keyboard-shortcuts h3 {
  color: white;
  margin-bottom: var(--spacing-lg);
}

.keyboard-shortcuts ul {
  list-style: none;
  padding: 0;
}

.keyboard-shortcuts li {
  padding: var(--spacing-sm) 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.keyboard-shortcuts kbd {
  background: rgba(99, 102, 241, 0.3);
  border: 1px solid rgba(99, 102, 241, 0.5);
  border-radius: var(--radius-sm);
  padding: var(--spacing-xs) var(--spacing-sm);
  font-family: monospace;
  font-size: var(--font-size-sm);
  color: white;
}

/* Responsive Design */
@media (max-width: 768px) {
  .slide-content {
    padding: var(--spacing-xl);
  }

  .slide-title-main {
    font-size: 2.5rem;
  }

  .slide-heading {
    font-size: 2rem;
  }

  .slide-controls {
    bottom: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
  }

  .slide-control-btn {
    width: 36px;
    height: 36px;
  }

  .formula-display {
    flex-direction: column;
  }

  .formula-operator {
    transform: rotate(90deg);
  }
}

/* Print Styles */
@media print {
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  body {
    background: white !important;
  }

  .slide-controls,
  .slide-progress,
  .keyboard-shortcuts {
    display: none !important;
  }

  .slide-presentation {
    background: white !important;
  }

  .slides-container {
    height: auto !important;
    overflow: visible !important;
    position: relative !important;
  }

  /* Force light theme variables for crisp print colors */
  :root {
    --color-text: #0f172a !important;
    --color-text-muted: #334155 !important;
    --color-bg: #ffffff !important;
    --color-bg-light: #ffffff !important;
    --color-border: #e2e8f0 !important;
  }

  /* Force ALL slides to be visible when printing */
  .slide {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    page-break-after: always;
    page-break-inside: avoid;
    position: relative !important;
    height: auto !important;
    min-height: 100vh;
    padding: 2cm !important;
    box-sizing: border-box;
    width: 100% !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    z-index: auto !important;
    transform: none !important;
    filter: none !important;
  }

  .slide.active,
  .slide:not(.active) {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  .slide:last-child {
    page-break-after: auto;
  }

  .slide.print-compact {
    padding: 1.25cm !important;
    min-height: auto !important;
  }

  .slide-content {
    background: #ffffff !important;
    color: #0f172a !important;
    box-shadow: none !important;
    border: 1px solid #ddd !important;
    max-width: 100% !important;
    width: 100% !important;
    padding: 2rem !important;
    padding-bottom: 2rem !important;
    margin: 0 !important;
    page-break-inside: avoid;
  }

  .slide.print-compact .slide-content {
    padding: 1.5rem !important;
    padding-bottom: 1.5rem !important;
  }

  .slide-title-main {
    background: none !important;
    color: #0f172a !important;
    -webkit-text-fill-color: currentColor !important;
  }

  img {
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid;
  }

  .example-box {
    page-break-inside: avoid;
  }
}
